<template>
    <!--客户-->
    <div class="add-box">
        <!--固定导航-->
        <div class="add-header">
            <div class="top">
                    <div class="left-top">
                            <mu-select  @change='selectChange' v-model="value" full-width>
                                <mu-option ripple v-for="(item,index)  in orderListname"
                                 :key="index" :label="item.label"
                                 :value="item.value"></mu-option>
                            </mu-select>
                        <div>
                        <!--新建-->
                        <span class="top-left-btn"  @click="addStoreInfo">
                            <Icon type="plus" style="position:absolute;top:7px;left:8px"></Icon></span>
                    </div>
                    </div>
                    <div class="right-top">
                        <span style="margin-left:20px;font-weight:600;font-size:19px;color:#ff0000">{{storeTxt}}</span>
                        <div style="display:inline-block;position:absolute;right:140px">
                            <mu-button small  style="background:#3b77e3;margin-right:5px;color:#fff;border:none"
                            @click="saveAddInfo" v-if="addText">
                            <Icon type="checkmark-round" style=";margin-right:5px;color:#fff"></Icon>
                            {{$t('public.SaveBtn')}}<!--保存-->
                            </mu-button>
                            <mu-button small v-if="addText"  @click="addCancel"  style="background:#999999;color:#fff;" ><Icon type="close" style="margin-right:5px;">
                            </Icon>{{$t('public.cancel')}}</mu-button><!--取消-->

                            <!-- <mu-button small @click="" v-if="xiugaibtn1" style="background:#3b77e3;margin-right:5px;color:#fff;border:none" >指定护理员</mu-button> -->

                            <mu-button small @click="updateStoreInfo1" v-if="xiugaibtn1" style="background:#40ca98;color:#fff;border:none" ><i class="el-icon-edit" style=";margin-right:5px;"></i>{{$t('public.EditBtn')}}</mu-button><!--修改-->
                            <mu-button small @click="updateStoreInfo2" v-if="xiugaibtn2"  style="background:#3b77e3;margin-right:5px;color:#fff;border:none" ><Icon type="checkmark-round" style=";margin-right:5px;color:#fff"></Icon> {{$t('public.SaveBtn')}}<!--保存--></mu-button>
                            <mu-button small v-if="xiugaibtn2"  @click="editCancel"  style="background:#999999;color:#fff;" ><Icon type="close" style="margin-right:5px;">
                            </Icon>{{$t('public.cancel')}}</mu-button><!--取消-->
                            <Dropdown trigger="click" style="margin-left: 4px" v-if='xiugaibtn1'>
                                <mu-button small type="ghost" style="background:#ff7d16;color:#fff;border:none">
                                    {{$t('public.more')}}<!--更多-->
                                <span><i class="ivu-icon ivu-icon-chevron-down"></i></span>

                            </mu-button>

                            <DropdownMenu slot="list">
                                <span  @click="comite" v-if="comiteisshow"><DropdownItem >提交</DropdownItem></span>
                                <span  @click="stop" v-if="stop1"><DropdownItem >终止</DropdownItem></span>
                                <span  @click=""><DropdownItem >日程</DropdownItem></span>
                                <span  @click="contract"><DropdownItem >续约</DropdownItem></span>
                                <span  @click="delUser"><DropdownItem >删除</DropdownItem></span>
                                <span  @click="enabled" v-if="enabledisshow"><DropdownItem >生效</DropdownItem></span>

                            </DropdownMenu>
                            </Dropdown>

                        <span @click="cancelHome" style="cursor:pointer;margin-left: 10px;"><Icon type="close" class="cha" ></Icon></span>
                        </div>
                    </div>
            </div>
        </div>
        <!-- <div class="cheng"></div> -->
        <div style="display:flex;height:100%;background: rgb(230,233,236);">
                <div class="add-left">
                    <!--左边内容-->
                    <div class="left-content">
                        <div class='locationSearch'>
                             <mu-text-field v-model="searchKeyword"
                              placeholder="请输入姓名"
                             style='width:100%;margin: 0 10px;'
                              @keyup.enter='search'
                              >
                            </mu-text-field><br/>

                        </div>
                        <p v-if="storeList.length==0" class='scrollFix'>
                            <Spin>
                                <div>{{$t('public.NoData')}}</div><!--暂无数据-->
                            </Spin>
                        </p>
                        <Scroll :on-reach-bottom="handleReachEdge" :height="height" v-else>
                            <li class="con-list" v-for="(item,index) in storeList" :key='index' @click="seeStoreInfo(item.id,index)" :class="{bg:numIndex==index}">
                                 <span style="margin-right: 10px;">
                                     <!-- <Checkbox :value="numIndex==index"></Checkbox> -->
                                 </span>
                                 <div>
                                    <p class="list-title">{{item.name}}</p>
                                    <p class="txt" style="margin-top:10px;">{{item.gender}}</p>

                                    <div class="lanrenLeft" :class="{bgd4:item.status==1,bgd5:item.status==3,bgd6:item.status==9,bgd51:item.status==5}">
                                    <span >{{item.statusDesc}}</span>
                                    </div>​
                                    <span class="date1">{{item.code}}</span>
                                    <span class="date">手机号：{{item.mobile}}</span>
                                </div>
                            </li>
                        </Scroll>
                    </div>
                </div>
            <!--右边内容-->
                <div class="add-right">
                    <div class="right-content" v-if="addText">
                        <mu-form ref="form" :model="validateForm" >
                            <div class='title-txt'>基本资料：</div>
                            <div  style='display:flex'>
                                <div style='width:50%;'>
                                    <mu-form-item label="姓名"  prop="name" :rules="usernameRules">
                                        <mu-text-field v-model="validateForm.name"
                                        prop="name"
                                        placeholder="请输入姓名"></mu-text-field>
                                    </mu-form-item>
                                    <mu-form-item label="手机号"  prop="mobile" :rules="mobileRules">
                                        <mu-text-field v-model="validateForm.mobile"
                                        prop="mobile"
                                        placeholder="请输入手机号"></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div style='width:50%;padding-left:40px'>
                                    
                                    <mu-form-item label="家属姓名"  prop="jsname" >
                                        <mu-text-field v-model="validateForm.jsname"
                                        prop="jsname"
                                        placeholder="请输入家属姓名"></mu-text-field>
                                    </mu-form-item>
                                    <mu-form-item label="紧急联络电话"  prop="tel">
                                        <mu-text-field v-model="validateForm.tel"
                                        prop="tel"
                                        placeholder="请输入紧急联络电话"></mu-text-field>
                                    </mu-form-item>
                                    
                                </div>
                                <div style='width:50%;padding-left:40px'>
                                    
                                    <mu-form-item label="推荐渠道"  prop="tjqd" >
                                        <mu-text-field v-model="validateForm.tjqd"
                                        prop="tjqd"
                                        placeholder="请输入推荐人" @click="chooseHly"></mu-text-field>
                                    </mu-form-item>
                                    
                                    <div style="display: flex;">
                                        <mu-form-item label="年"   >
                                            <mu-text-field type="number" :max-length="4" v-model="validateForm.year"
                                       
                                        placeholder="出生年份" ></mu-text-field>
                                        </mu-form-item>
                                         <mu-form-item label="月"  >
                                            <mu-text-field type="number" :max-length="2" v-model="validateForm.month"
                                       
                                        placeholder="出生月份"></mu-text-field>
                                        </mu-form-item>
                                        <mu-form-item label="日"  >
                                            <mu-text-field type="number" :max-length="2" v-model="validateForm.day"
                                      
                                        placeholder="出生日" ></mu-text-field>
                                        </mu-form-item>
                                        
                                        
                                    </div>
                                </div>
                            </div>
                            <div style='display:flex'>
                                <div style='margin-right:20px'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        请输入编号</div>
                                    <mu-form-item label="编号">
                                        <mu-text-field v-model="validateForm.code"
                                        prop="code"
                                        placeholder="请输入编号"></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        合同有效期</div>
                                    <div style='display:flex'>
                                        <mu-form-item label="开始日期" prop="contractStart" :rules="contractStartRules">
                                            <mu-date-input  landscape
                                            v-model="validateForm.contractStart"
                                            view-type='list'
                                            type="date"
                                            label-float
                                            container="dialog"
                                            full-width @change='changecontractStart'></mu-date-input>
                                        </mu-form-item>
                                        <mu-form-item label="结束日期" prop="contractEnd" :rules="contractEndRules" style='margin-left:20px;'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.contractEnd"
                                            view-type='list'
                                            type="date"
                                            label-float
                                            container="dialog"

                                            full-width @change='changecontractEnd'></mu-date-input>
                                        </mu-form-item>
                                    </div>
                                </div>
                                <div style='margin-left: 20px;'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        意向护理时间</div>
                                    <div style='display:flex'>
                                        <mu-form-item label="开始时间" prop="hlbtime" style=';width:200px'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.hlbtime"
                                            view-type='list'
                                            type="time"
                                            label-float
                                            clock-type="24hr"
                                            container="dialog"
                                            full-width @change='changebTime'></mu-date-input>
                                        </mu-form-item>
                                        <mu-form-item label="结束时间" prop="hletime" style='margin-left:20px;width:200px'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.hletime"
                                            view-type='list'
                                            type="time"
                                            label-float
                                            clock-type="24hr"
                                            container="dialog"
                                            full-width @change='changeeTime'></mu-date-input>
                                        </mu-form-item>
                                    </div>
                                </div>
                            </div>
                            
                            <div style='display:flex;'>
                                <div>
                                    <mu-form-item label="评估等级">
                                        <mu-text-field v-model="validateForm.level"
                                        prop="level"
                                        placeholder="请输入评估等级"></mu-text-field>
                                    </mu-form-item>
                                </div>
                                 <div style='padding: 0 10px 20px 0;'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                    性别</div>
                                    <div style='display:flex'>
                                        <div :label-left='true' class="select-control-row" :key="index" v-for="(i,index) in genders">
                                            <mu-radio @change="changeGender" :value="i.value" v-model="gender" :label="i.lable"></mu-radio>
                                        </div>
                                    </div>
                                </div>       
                                <mu-form-item label="护理日期"  prop="jsname"  style='margin-left:40px'>
                                   <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first0' @on-change="changeDay0">周一</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first1' @on-change="changeDay1">周二</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first2' @on-change="changeDay2">周三</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first3' @on-change="changeDay3">周四</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first4' @on-change="changeDay4">周五</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first5' @on-change="changeDay5">周六</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first6' @on-change="changeDay6">周日</Checkbox>
                                    </li>
                                </mu-form-item>
                            </div>
                            <div >
                               
                                <div style="font-size:14px;color: rgba(0, 0, 0, 0.54);margin-bottom:-20px">地址</div>
                                <mu-form-item style="width: 100%;" prop="housingEstateName" :rules="addressRules">

                                    <div style="display:flex;width:100%;margin-top:28px" >
                                       <mu-text-field v-model="validateForm.street"  placeholder="街道" style="width:200px;margin-left:10px" @click="clickCommunity"></mu-text-field>
                                    <span >
                                        <mu-text-field v-model="validateForm.housingEstateName" placeholder="请选择居委会" style="width:200px;margin-left:10px"></mu-text-field>
                                    </span>
                                    <mu-text-field v-model="validateForm.address" placeholder="请输入详细地址" style="margin-left:10px"></mu-text-field>
                                   
                                    </div>
                                </mu-form-item>
                            </div>
                            <div class='title-txt'>护理信息：</div>
                            <div style='display:flex;'><!--justify-content: space-between;-->
                                    <mu-form-item label="指定护理员"  prop="hly">
                                        <mu-text-field v-model="validateForm.hly"
                                            prop="hly"
                                            placeholder="请输入指定护理员" @click="clickhly">
                                        </mu-text-field>
                                    </mu-form-item>
                                <!-- <div style='padding: 0 10px 20px 0;'>
                                    <div style='padding: 0 20px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                    护理员性别要求</div>
                                    <div style='display:flex'>
                                        <div :label-left='true' class="select-control-row" :key="index" v-for="(i,index) in genders">
                                            <mu-radio @change="changeGender" :value="i.value" v-model="gender" :label="i.lable"></mu-radio>
                                        </div>
                                    </div>
                                </div> -->
                            </div>
                            <div class='title-txt'>证件材料：</div>
                            <ul class="detail-title-mark" style='margin-bottom:20px'>
                                
                                <li v-for="(item,index) in titlessku" class="detail-title" @click="addbordersku(index)" :class="{bor:index==num4}">
                                    {{item}}
                                </li>
                            </ul>
                            <div v-if='num4==0' class='main-btm'>
                                <div style="display:flex">
                                    <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px;'>
                                        <el-upload
                                        class="avatar-uploader"
                                        :action="imageUrlS"
                                        :show-file-list="false"
                                        name='file'
                                        :before-upload="beforeAvatarUpload"
                                        :on-success="handleAvatarSuccess"
                                        >
                                        <img v-if="validateForm.imageS" :src="validateForm.imageS" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        <span v-if="!validateForm.imageS">身份证正面照</span>
                                        </el-upload>
                                    </div>
                                    <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px;margin-left:20px'>
                                        <el-upload
                                        class="avatar-uploader"
                                        :action="imageUrlS"
                                        :show-file-list="false"
                                        name='file'
                                        :before-upload="beforeAvatarUpload2"
                                        :on-success="handleAvatarSuccess2"
                                        >
                                        <img v-if="validateForm.imageS2" :src="validateForm.imageS2" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        <span v-if="!validateForm.imageS2">身份证背面照</span>
                                        </el-upload>
                                    </div>
                                </div>
                            </div>
                            <div v-if='num4==1' class='main-btm'>
                                <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px'>
                                    <el-upload
                                    class="avatar-uploader"
                                    :action="imageUrlY"
                                    :show-file-list="false"
                                    name='file'
                                    :before-upload="beforeAvatarUpload"
                                    :on-success="handleAvatarSuccessJ"
                                    >
                                    <img v-if="validateForm.imageY" :src="validateForm.imageY" class="avatar">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>

                                    </el-upload>
                                </div>
                            </div>
                        </mu-form>
                    </div>
                     <!--修改信息-->
                    <div class="right-content" v-if="xiugai">
                       <mu-form ref="Editform" :model="validateForm" >
                            <div class='title-txt'>基本资料：</div>
                            <div  style='display:flex'>
                                <div style='width:50%;'>
                                    <mu-form-item label="姓名"  prop="name" :rules="usernameRules">
                                        <mu-text-field v-model="validateForm.name"
                                        prop="name"
                                        placeholder="请输入姓名"></mu-text-field>
                                    </mu-form-item>
                                    <mu-form-item label="手机号"  prop="mobile" :rules="mobileRules">
                                        <mu-text-field v-model="validateForm.mobile"
                                        prop="mobile"
                                        placeholder="请输入手机号"></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div style='width:50%;padding-left:40px'>
                                    
                                    <mu-form-item label="家属姓名"  prop="jsname" >
                                        <mu-text-field v-model="validateForm.jsname"
                                        prop="jsname"
                                        placeholder="请输入家属姓名"></mu-text-field>
                                    </mu-form-item>
                                    <mu-form-item label="紧急联络电话"  prop="tel" >
                                        <mu-text-field v-model="validateForm.tel"
                                        prop="tel"
                                        placeholder="请输入紧急联络电话"></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div style='width:50%;padding-left:40px'>
                                    
                                    <mu-form-item label="推荐渠道"  prop="tjqd" >
                                        <mu-text-field v-model="validateForm.tjqd"
                                        prop="tjqd"
                                        placeholder="请输入推荐人"  @click="chooseHly"></mu-text-field>
                                    </mu-form-item>
                                     <div style="display: flex;">
                                        <mu-form-item label="年"  >
                                            <mu-text-field type="number" v-model="validateForm.year"
                                       
                                        placeholder="出生年份" ></mu-text-field>
                                        </mu-form-item>
                                         <mu-form-item label="月"  >
                                            <mu-text-field type="number" v-model="validateForm.month"
                                       
                                        placeholder="出生月份"></mu-text-field>
                                        </mu-form-item>
                                        <mu-form-item label="日"  >
                                            <mu-text-field type="number" v-model="validateForm.day"
                                      
                                        placeholder="出生日" ></mu-text-field>
                                        </mu-form-item>
                                    </div>
                                </div>

                            </div>
                            <div style='display:flex'>
                                <div style='margin-right:20px'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        请输入编号</div>
                                    <mu-form-item label="编号">
                                        <mu-text-field v-model="validateForm.code"
                                        prop="code"
                                        placeholder="请输入编号" disabled></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        合同有效期</div>
                                    <div style='display:flex'>
                                        <mu-form-item label="开始日期" prop="contractStart" :rules="contractStartRules" style=''>
                                            <mu-date-input  landscape
                                            v-model="validateForm.contractStart"
                                            view-type='list'
                                            type="date"
                                            label-float
                                            container="dialog"
                                            full-width @change='changecontractStart'></mu-date-input>
                                        </mu-form-item>
                                        <mu-form-item label="结束日期" prop="contractEnd" :rules="contractEndRules" style='margin-left:20px;'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.contractEnd"
                                            view-type='list'
                                            type="date"
                                            label-float
                                            container="dialog"
                                            full-width @change='changecontractEnd'></mu-date-input>
                                        </mu-form-item>
                                    </div>
                                </div>
                                <div style='margin-left: 20px;'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        意向护理时间</div>
                                    <div style='display:flex'>
                                        <mu-form-item label="开始时间" prop="hlbtime" style=';width:200px'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.hlbtime"
                                            view-type='list'
                                            type="time"
                                            label-float
                                            clock-type="24hr"
                                            container="dialog"
                                            full-width @change='changebTime'></mu-date-input>
                                        </mu-form-item>
                                        <mu-form-item label="结束时间" prop="hletime" style='margin-left:20px;width:200px'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.hletime"
                                            view-type='list'
                                            type="time"
                                            label-float
                                            clock-type="24hr"
                                            container="dialog"
                                            full-width @change='changeeTime'></mu-date-input>
                                        </mu-form-item>
                                    </div>
                                </div>
                            </div>
                            <div style='display:flex;'>
                                <div>
                                    <mu-form-item label="评估等级">
                                        <mu-text-field v-model="validateForm.level"
                                        prop="level"
                                        placeholder="请输入评估等级"></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div style='padding: 0 10px 20px 0;'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                    性别</div>
                                    <div style='display:flex'>
                                        <div :label-left='true' class="select-control-row" :key="index" v-for="(i,index) in genders">
                                            <mu-radio @change="changeGender" :value="i.value" v-model="gender" :label="i.lable"></mu-radio>
                                        </div>
                                    </div>
                                </div>        
                                <mu-form-item label="护理日期"  prop="jsname"  style='margin-left:40px'>
                                   <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first0' @on-change="changeDay0">周一</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first1' @on-change="changeDay1">周二</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first2' @on-change="changeDay2">周三</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first3' @on-change="changeDay3">周四</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first4' @on-change="changeDay4">周五</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first5' @on-change="changeDay5">周六</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox v-model='first6' @on-change="changeDay6">周日</Checkbox>
                                    </li>
                                </mu-form-item>
                            </div>
                            <div >
                               
                                <div style="font-size:14px;color: rgba(0, 0, 0, 0.54);margin-bottom:-20px">地址</div>
                                <mu-form-item style="width: 100%;" prop="housingEstateName" :rules="addressRules">

                                    <div style="display:flex;width:100%;margin-top:28px" >
                                       <mu-text-field v-model="validateForm.street"  placeholder="街道" style="width:200px;margin-left:10px" @click="clickCommunity"></mu-text-field>
                                    <span >
                                        <mu-text-field v-model="validateForm.housingEstateName" placeholder="请选择居委会" style="width:200px;margin-left:10px"></mu-text-field>
                                    </span>
                                    <mu-text-field v-model="validateForm.address" placeholder="请输入详细地址" style="margin-left:10px"></mu-text-field>
                                   
                                    </div>
                                </mu-form-item>
                            </div>
                            <div class='title-txt'>护理信息：</div>
                            <div style='display:flex;'><!--justify-content: space-between;-->
                                    <mu-form-item label="指定护理员"  prop="hly">

                                        <mu-text-field v-model="validateForm.hly"
                                            prop="hly"
                                            placeholder="请输入指定护理员" @click="clickhly">
                                        </mu-text-field>
                                    </mu-form-item>
                                
                            </div>
                            <div class='title-txt'>证件材料：</div>
                            <ul class="detail-title-mark" style='margin-bottom:20px'>
                                
                                <li v-for="(item,index) in titlessku" class="detail-title" @click="addbordersku(index)" :class="{bor:index==num4}">
                                    {{item}}
                                </li>
                            </ul>
                           
                            <div v-if='num4==0' class='main-btm'>
                                <div style="display:flex">
                                    <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px;'>
                                        <el-upload
                                        class="avatar-uploader"
                                        :action="imageUrlS"
                                        :show-file-list="false"
                                        name='file'
                                        :before-upload="beforeAvatarUpload"
                                        :on-success="handleAvatarSuccess"
                                        >
                                        <img v-if="validateForm.imageS" :src="validateForm.imageS" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        <span v-if="!validateForm.imageS">身份证正面照</span>
                                        </el-upload>
                                    </div>
                                    <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px;margin-left:20px'>
                                        <el-upload
                                        class="avatar-uploader"
                                        :action="imageUrlS"
                                        :show-file-list="false"
                                        name='file'
                                        :before-upload="beforeAvatarUpload2"
                                        :on-success="handleAvatarSuccess2"
                                        >
                                        <img v-if="validateForm.imageS2" :src="validateForm.imageS2" class="avatar">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        <span v-if="!validateForm.imageS2">身份证背面照</span>
                                        </el-upload>
                                    </div>
                                </div>
                            </div>
                            <div v-if='num4==1' class='main-btm'>
                                <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px'>
                                    <el-upload
                                    class="avatar-uploader"
                                    :action="imageUrlY"
                                    :show-file-list="false"
                                    name='file'
                                    :before-upload="beforeAvatarUpload"
                                    :on-success="handleAvatarSuccessJ"
                                    >
                                    <img v-if="validateForm.imageY" :src="validateForm.imageY" class="avatar">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                    </el-upload>
                                </div>
                            </div>
                           
                        </mu-form>
                    </div>
                    <!--详情明细订单页面-->
                    <div class="right-content right-detail" ref="detail"  v-if='details'>
                        <div>
                            <mu-form :model="validateForm">
                            <div class='title-txt'>基本资料：</div>
                            <div  style='display:flex'>
                                <div style='width:50%;'>
                                    <mu-form-item label="姓名"  prop="name" :rules="usernameRules">
                                        <mu-text-field v-model="validateForm.name"
                                        prop="name"
                                        placeholder="请输入姓名" disabled></mu-text-field>
                                    </mu-form-item>
                                    <mu-form-item label="手机号"  prop="mobile" :rules="mobileRules">
                                        <mu-text-field v-model="validateForm.mobile"
                                        prop="mobile"
                                        placeholder="请输入手机号" disabled></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div style='width:50%;padding-left:40px'>
                                    
                                    <mu-form-item label="家属姓名"  prop="jsname" :rules="jsnameRules">
                                        <mu-text-field disabled v-model="validateForm.jsname"
                                        prop="jsname"
                                        placeholder="请输入家属姓名"></mu-text-field>
                                    </mu-form-item>
                                    <mu-form-item label="紧急联络电话"  prop="tel" :rules="telRules">
                                        <mu-text-field v-model="validateForm.tel"
                                        prop="tel"
                                        placeholder="请输入紧急联络电话" disabled></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div style='width:50%;padding-left:40px'>
                                    
                                    <mu-form-item label="推荐渠道"  prop="tjqd" >
                                        <mu-text-field v-model="validateForm.tjqd"
                                        prop="tjqd"
                                        placeholder="请输入推荐人" disabled></mu-text-field>
                                    </mu-form-item>
                                     <div style="display: flex;">
                                        <mu-form-item label="年"  >
                                            <mu-text-field v-model="validateForm.year"
                                       
                                        placeholder="出生年份" disabled></mu-text-field>
                                        </mu-form-item>
                                         <mu-form-item label="月"  >
                                            <mu-text-field v-model="validateForm.month"
                                       
                                        placeholder="出生月份" disabled></mu-text-field>
                                        </mu-form-item>
                                        <mu-form-item label="日"  >
                                            <mu-text-field v-model="validateForm.day"
                                      
                                        placeholder="出生日" disabled></mu-text-field>
                                        </mu-form-item>
                                    </div>
                                </div>

                            </div>
                            <div style='display:flex'>
                                <div style='margin-right:20px'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        请输入编号</div>
                                    <mu-form-item label="编号">
                                        <mu-text-field v-model="validateForm.code"
                                        prop="code"
                                        placeholder="请输入编号" disabled></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        合同有效期</div>
                                    <div style='display:flex'>
                                        <mu-form-item label="开始日期" prop="contractStart" :rules="contractStartRules" style=''>
                                            <mu-date-input  landscape
                                            v-model="validateForm.contractStart"
                                            view-type='list'
                                            type="date"
                                            label-float
                                            container="dialog"
                                            full-width disabled></mu-date-input>
                                        </mu-form-item>
                                        <mu-form-item label="结束日期" prop="contractEnd" :rules="contractEndRules" style='margin-left:20px;'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.contractEnd"
                                            view-type='list'
                                            type="date"
                                            label-float
                                            container="dialog"
                                            full-width disabled></mu-date-input>
                                        </mu-form-item>
                                    </div>
                                </div>
                                <div style='margin-left: 20px;'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                        意向护理时间</div>
                                    <div style='display:flex'>
                                        <mu-form-item label="开始时间" prop="hlbtime" style=';width:200px'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.hlbtime"
                                            view-type='list'
                                            type="time"
                                            label-float
                                            container="dialog"
                                            full-width disabled></mu-date-input>
                                        </mu-form-item>
                                        <mu-form-item label="结束时间" prop="hletime" style='margin-left:20px;width:200px'>
                                            <mu-date-input  landscape
                                            v-model="validateForm.hletime"
                                            view-type='list'
                                            type="time"
                                            label-float
                                            container="dialog"
                                            full-width disabled></mu-date-input>
                                        </mu-form-item>
                                    </div>
                                </div>
                            </div>
                            <div style='display:flex;'>
                                <div>
                                    <mu-form-item label="设备编号">
                                        <mu-text-field disabled v-model="validateForm.ibeaconMajor"
                                        prop="ibeaconMajor"
                                        ></mu-text-field>
                                    </mu-form-item>

                                </div>
                                <div style='padding: 0 10px;width:80%'>
                                    <mu-form-item label="设备业务编码">
                                        <mu-text-field disabled v-model="validateForm.ibeaconUUID"
                                        prop="ibeaconUUID"
                                        placeholder="请输入设备业务编码" ></mu-text-field>
                                    </mu-form-item>
                                </div>
                            </div>
                            <div style='display:flex;'>
                                
                                <div>
                                    <mu-form-item label="评估等级">
                                        <mu-text-field v-model="validateForm.level"
                                        prop="level"
                                        placeholder="请输入评估等级" disabled ></mu-text-field>
                                    </mu-form-item>
                                </div>
                                <div style='padding: 0 10px 20px 0;'>
                                    <div style='padding: 0 10px 10px 0;color: rgba(0,0,0,.54);font-size:14px'>
                                    性别</div>
                                    <div style='display:flex'>
                                        <div disabled :label-left='true' class="select-control-row" :key="index" v-for="(i,index) in genders">
                                            <mu-radio @change="changeGender" :value="i.value" v-model="gender" :label="i.lable" disabled></mu-radio>
                                        </div>
                                    </div>
                                </div>        
                                <mu-form-item label="护理日期"  prop="jsname"  style='margin-left:40px'>
                                   <li  style='float:left;padding:5px 0'>
                                        <Checkbox disabled v-model='first0' @on-change="changeDay0">周一</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox disabled v-model='first1' @on-change="changeDay1">周二</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox disabled v-model='first2' @on-change="changeDay2">周三</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox disabled v-model='first3' @on-change="changeDay3">周四</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox disabled v-model='first4' @on-change="changeDay4">周五</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox disabled v-model='first5' @on-change="changeDay5">周六</Checkbox>
                                    </li>
                                    <li  style='float:left;padding:5px 0'>
                                        <Checkbox disabled v-model='first6' @on-change="changeDay6">周日</Checkbox>
                                    </li>
                                </mu-form-item>
                            </div>
                           <div >
                                <div style="font-size:14px;color: rgba(0, 0, 0, 0.54);margin-bottom:-20px">地址</div>
                                <mu-form-item style="width: 100%;" prop="housingEstateName" :rules="addressRules">

                                    <div style="display:flex;width:100%;margin-top:28px" >
                                       <mu-text-field disabled v-model="validateForm.street"  placeholder="街道" style="width:200px;margin-left:10px" @click="clickCommunity"></mu-text-field>
                                    <span >
                                        <mu-text-field disabled v-model="validateForm.housingEstateName" placeholder="请选择居委会" style="width:200px;margin-left:10px"></mu-text-field>
                                    </span>
                                    <mu-text-field disabled v-model="validateForm.address" placeholder="请输入详细地址" style="margin-left:10px"></mu-text-field>
                                   
                                    </div>
                                </mu-form-item>
                            </div>
                            <div class='title-txt'>护理信息：</div>
                            <div style='display:flex;'><!--justify-content: space-between;-->
                                <mu-form-item label="指定护理员"  prop="hly">

                                    <mu-text-field v-model="validateForm.hly"
                                        prop="hly"
                                        placeholder="请输入指定护理员" disabled>
                                    </mu-text-field>
                                </mu-form-item>
                                

                            </div>
                        </mu-form>
                        <div style="width:100%" v-if="reason!='' && reason!=undefined">
                            <span>中止原因:</span>
                            <p>{{reason}}</p>
                        </div>
                            <ul class="detail-title-mark" style='margin-top:20px'>
                                <li  v-for="(item,index) in detailsArr" class="detail-title flclass" @click="addborderdefails(index)" :class="{bor:index==num5}">
                                    {{item}}
                                </li>
                            </ul>
                            <!--工单-->
                            <div v-if='num5==0' class='main-btm'>
                                <div style='margin: 10px 10px 0 0;'>
                                    
                                    <ag-grid-vue style='width:100%;' class="ag-theme-balham is-full-widthag"
                                    :gridOptions="gridgd"
                                    :rowData="gdhistory"
                                    :columnDefs="columnsgd"
                                    :gridAutoHeight="true"
                                    :enableSorting="true"
                                    :enableFilter="true"
                                    ></ag-grid-vue>
                                    <div justify-content="center" >
                                        <mu-pagination raised circle :current='current0' :total="total0"  :pageSize='pageSize0' @change='changeSize0'></mu-pagination>
                                    </div>
                                </div>
                            </div>
                           
                            <div v-if='num5==1' class='main-btm'>
                                <div style="display:flex;margin-top:20px">
                                    <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px;'>
                                        <el-upload
                                        disabled
                                        class="avatar-uploader"
                                        :action="imageUrlS"
                                        :show-file-list="false"
                                        name='file'
                                        :before-upload="beforeAvatarUpload"
                                        :on-success="handleAvatarSuccess"
                                        >
                                        <img v-if="validateForm.imageS" :src="validateForm.imageS" class="avatar" @click="overImg" >
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        <span v-if="!validateForm.imageS">身份证正面照</span>
                                        </el-upload>
                                    </div>
                                    <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px;margin-left:20px'>
                                        <el-upload
                                        disabled
                                        class="avatar-uploader"
                                        :action="imageUrlS"
                                        :show-file-list="false"
                                        name='file'
                                        :before-upload="beforeAvatarUpload2"
                                        :on-success="handleAvatarSuccess2"
                                        >
                                        <img v-if="validateForm.imageS2" :src="validateForm.imageS2" class="avatar" @click="overImg1">
                                        <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                        <span v-if="!validateForm.imageS2">身份证背面照</span>
                                        </el-upload>
                                    </div>
                                    
                                </div>
                            </div>
                            <div v-if='num5==2' class='main-btm'>
                                <div style='border:2px dotted #C0CCDA;border-radius:6px;width:300px;margin-top:20px'>
                                    <el-upload
                                    class="avatar-uploader"
                                    :action="imageUrlY"
                                    :show-file-list="false"
                                    name='file'
                                    :before-upload="beforeAvatarUpload"
                                    :on-success="handleAvatarSuccessJ"
                                    disabled>
                                    <img v-if="validateForm.imageY" :src="validateForm.imageY" class="avatar" @click="overImg2">
                                    <i v-else class="el-icon-plus avatar-uploader-icon"></i>
                                    </el-upload>
                                </div>
                            </div>
                        <!--状态-->
                        <div class="lanren" :class="{bgd1:storeDetails.status==1,bgd2:storeDetails.status==9,bgd21:storeDetails.status==3,bgd25:storeDetails.status==5}">
                           <span>{{storeDetails.statusDesc}}</span>
                        </div>​
                        </div>
                    </div>
                </div>
            <!--  -->
        </div>
        <Modal v-model="hlyisshow1" width="760px">
            <p slot="header" style="height:30px;line-height:30px;">
              <span>选择推荐人</span>
            </p>
            <mu-text-field v-model="hlykeyword1" style='width:100%;padding:0 10px;margin-bottom:0' @keyup.enter='enterhly1' placeholder='请输入名称手机号'></mu-text-field>
             <ag-grid-vue style='width:100%;' class="ag-theme-balham is-full-widthag" 
                :gridOptions="gridtj"
                :rowData="HLYrowData1"
                :columnDefs="HLYdataKey1"
                :cellClicked="hlyClickRow1"
                :rowDoubleClicked="dblClickhyl1" 
                :gridAutoHeight="true"
                :enableSorting="true"
                :enableFilter="true"
                ></ag-grid-vue>
                <div>
                    <mu-pagination raised circle 
                    :current='HLYcurrent1' :total="HLYtotal1"  
                    :pageSize='HLYpageSize1' @change='HLYchangeSize'></mu-pagination>
                </div>
            <div slot="footer">
              <div class='footer-mark'>
                <span><a style='color:#999;font-size:14px' @click='cancelhly1'>{{$t('public.cancel')}}</a></span>
                <span style='font-size:20px;width:1px;height:40px;background:#e4e4e4'></span>
                <span ><a style='color:#3B77E3;font-size:14px' @click='hlySure1'>{{$t('public.sure')}}</a></span>
              </div>
            </div>
          </Modal>


       <Modal v-model="hlyisshow" width="760px">
            <p slot="header" style="height:30px;line-height:30px;">
              <span>选择护理员</span>
            </p>
            <mu-text-field v-model="hlykeyword" style='width:100%;padding:0 10px;margin-bottom:0' @keyup.enter='enterhly' placeholder='请输入姓名'></mu-text-field>
             <ag-grid-vue style='width:100%;' class="ag-theme-balham is-full-widthag" 
                :gridOptions="gridhly"
                :rowData="HLYrowData"
                :columnDefs="HLYdataKey"
                :cellClicked="hlyClickRow"
                :rowDoubleClicked="dblClickhyl" 
                :gridAutoHeight="true"
                :enableSorting="true"
                :enableFilter="true"
                ></ag-grid-vue>
                <div>
                    <mu-pagination raised circle 
                    :current='HLYcurrent' :total="HLYtotal"  
                    :pageSize='HLYpageSize' @change='HLYchangeSize2'></mu-pagination>
                </div>
            <div slot="footer">
              <div class='footer-mark'>
                <span><a style='color:#999;font-size:14px' @click='cancelhly'>{{$t('public.cancel')}}</a></span>
                <span style='font-size:20px;width:1px;height:40px;background:#e4e4e4'></span>
                <span ><a style='color:#3B77E3;font-size:14px' @click='hlySure'>{{$t('public.sure')}}</a></span>
              </div>
            </div>
          </Modal>
          <!---->
        <Modal v-model="CommunityIsshow" width="760px">
            <p slot="header" style="height:30px;line-height:30px;">
              <span>选择居委会</span>
            </p>
             <mu-text-field v-model="keywordQ" style='width:100%;margin-bottom:0;padding:0 10px' @keyup.enter='enterQ' placeholder='请输入居委会名称'></mu-text-field>
             <ag-grid-vue style='width:100%;' class="ag-theme-balham is-full-widthag" 
                 :gridOptions="Qgrid"
                :rowData="QrowData"
                :columnDefs="QdataKey"
                :cellClicked="QClickRow"
                :rowDoubleClicked="dblClickQ" 
                :gridAutoHeight="true"
                :enableSorting="true"
                :enableFilter="true"
                ></ag-grid-vue>
                <div>
                    <mu-pagination raised circle 
                    :current='Qcurrent' :total="Qtotal"  
                    :pageSize='QpageSize' @change='QchangeSize'></mu-pagination>
                </div>
            <div slot="footer">
              <div class='footer-mark'>
                <span><a style='color:#999;font-size:14px' @click='CommunityCancel'>{{$t('public.cancel')}}</a></span>
                <span style='font-size:20px;width:1px;height:40px;background:#e4e4e4'></span>
                <span ><a style='color:#3B77E3;font-size:14px' @click='CommunitySure'>{{$t('public.sure')}}</a></span>
              </div>
            </div>
          </Modal>
          <!--续约-->
        <Modal v-model="contractisshow" width="560px">
            <p slot="header" style="height:30px;line-height:30px;">
              <span>续约</span>
            </p>
            <mu-form ref="contractform" :model="contractvalidateForm" >
                <div style='display:flex;width:100%'>
                    <mu-form-item label="开始时间"  prop="startDate" :rules="startDateRules" style='width:50%'>
                        <mu-form-item prop="startDate">
                            <mu-date-input  landscape
                            v-model="contractvalidateForm.startDate"
                            view-type='list'
                            type="date"
                            label-float
                            container="dialog"
                            placeholder="请选择开始时间"
                            full-width @change='changecontractbTime'></mu-date-input>
                        </mu-form-item>
                    </mu-form-item>
                    <mu-form-item label="结束时间"  prop="startDate" :rules="endDateRules" style='width:50%'>
                        <mu-form-item  prop="startDate" >
                            <mu-date-input  landscape
                            v-model="contractvalidateForm.endDate"
                            view-type='list'
                            type="date"
                            label-float
                            container="dialog"
                            placeholder="结束时间"
                            full-width @change='changecontracteTime'></mu-date-input>
                        </mu-form-item>
                    </mu-form-item>
                     
                </div>
                <mu-form-item label="备注"  prop="remark" style='width:100%'>
                        <mu-text-field v-model="contractvalidateForm.remark" placeholder="请输入备注信息" multi-line :rows="2" full-width></mu-text-field><br/>
                    </mu-form-item>
            </mu-form>
            <div slot="footer">
              <div class='footer-mark'>
                <span><a style='color:#999;font-size:14px' @click='contractCancel'>{{$t('public.cancel')}}</a></span>
                <span style='font-size:20px;width:1px;height:40px;background:#e4e4e4'></span>
                <span ><a style='color:#3B77E3;font-size:14px' @click='contractSure'>{{$t('public.sure')}}</a></span>
              </div>
            </div>
        </Modal>
        <!--终止-->
        <Modal v-model="stopRremarkisshow" width="560px">
            <p slot="header" style="height:30px;line-height:30px;">
              <span>终止</span>
            </p>
                <mu-text-field v-model="stopRremark" placeholder="请输入终止理由" multi-line :rows="6" full-width></mu-text-field>
            <div slot="footer">
              <div class='footer-mark'>
                <span><a style='color:#999;font-size:14px' @click='stopCancel'>{{$t('public.cancel')}}</a></span>
                <span style='font-size:20px;width:1px;height:40px;background:#e4e4e4'></span>
                <span ><a style='color:#3B77E3;font-size:14px' @click='stopSure'>{{$t('public.sure')}}</a></span>
              </div>
            </div>
        </Modal>
        
        <Modal v-model="imgisshow" >
            <p slot="header" style="height:30px;line-height:30px;">
              <span>图片预览</span>
            </p>
                <div style="text-align:center">
                    <img :src="detailsImg" width="100%" height="100%">
                 </div>
            <div slot="footer">
              
            </div>
        </Modal>
    <div class='tot'>
        <span>共<span style='color:#ff0000'> {{total}} </span>条</span>
        <span>当前第<span style='color:#ff0000'> {{current}} </span>页</span>
    </div>
    </div>
</template>
<script>
import { AgGridVue } from "ag-grid-vue";
import LoadUrl from '@/components/common/actionLoad'
import { regionData,CodeToText,TextToCode} from 'element-china-area-data'
    export default {
        components:{
            AgGridVue
        },
        data() {
            return {
                reason:"",//原因
                enabledisshow:false,//生效
                gridgd:{
                    enableFilter:true,
                    enableSorting:true,
                    animateRows:true,
                    rowHeight:40,
                    // pagination: true,

                    enableColResize:true,
                    enableRangeSelection:true,
                    
                },
                gridtj:{
                    enableFilter:true,
                    enableSorting:true,
                    animateRows:true,
                    rowHeight:40,
                    // pagination: true,

                    enableColResize:true,
                    enableRangeSelection:true,
                    
                },
                imgisshow:false,
                detailsImg:"",
                stopRremarkisshow:false,
                stopRremark:"",//终止理由
                storeTxt:"",
                //续约
                contractvalidateForm:{
                    startDate:"",
                    endDate:"",
                    remark:""
                },
                startDateRules:[{ validate: (val) => !!val, message:"必须填写开始时间"}],
                endDateRules:[{ validate: (val) => !!val, message:"必须填写开始时间"}],
                gridhly:{
                    enableFilter:true,
                    enableSorting:true,
                    animateRows:true,
                    rowHeight:40,
                    // pagination: true,
                    enableColResize:true,
                    enableRangeSelection:true,
                },
                hlykeyword1:"",
                hlyzd1:false,//指定护理员
                hlyisshow1:false,
                HLYpageSize1:0,
                HLYcurrent:1,
                HLYtotal1:0,
                HLYcurrent1:1,
                HLYObj1:{},
                HLYrowData1: [],
                HLYdataKey1:[
                    {
                        headerName:"状态",
                        width:100,
                        field: 'statusDesc',
                        cellStyle: function(params) {
                            switch(params.data.status){
                                case 1:
                                    return {color:"#40ca98"}
                                break;
                                case 3:
                                    return {color:"#3b77e3"}
                                break;
                                case 9:
                                    return {color:"#d53c39"}
                                break;
                            }
                        }
                    },
                    {
                        headerName:"编号",
                        field:"code",
                        width:100
                    },
                    {
                        headerName:"护理员",
                        field: 'name',
                        width:100
                    },
                    {
                        headerName:"性别",
                        field:'gender',
                        width:100
                    },
                    {
                        headerName:"地址",//"地址",
                        field:'Raddress',
                        width:200
                    },
                    {
                        headerName:"电话",//"电话",
                        field:'mobile',
                        width:100
                    },
                    {
                        headerName:"开始时间",//"电话",
                        field:'serviceStartTime ',
                        width:100
                    },
                    {
                        headerName:"结束时间",//"电话",
                        field:'serviceEndTime',
                        width:100
                    },
                ],
                gender:0,
                genders:[
                    {
                        lable:"男",
                        value:1
                    },
                    {
                        lable:"女",
                        value:0
                    },
                ],
                hlyid1:"",//护理员id

                contractisshow:false,//续约
                comiteisshow:false,//提交
                stop1:false,//终止
                Qgrid:{
                    enableFilter:true,
                    enableSorting:true,
                    animateRows:true,
                    rowHeight:40,
                    // pagination: true,
                    enableColResize:true,
                },
                QpageSize:0,
                Qtotal:0,
                Qcurrent:1,
                QObj:{},
                keywordQ:"",
                QrowData: [],
                QdataKey:[
                    
                       {
                            headerName: "区",
                            field: "district",
                       },
                       {
                            headerName: "街道",
                            field: "street",
                       }, 
                       {
                            headerName: "居委会名称",
                            field: "name",
                       },
                       
                    ],

                 grid:{
                    enableFilter:true,
                    enableSorting:true,
                    animateRows:true,
                    rowHeight:40,
                    // pagination: true,
                    enableColResize:true,
                },
                hlykeyword:"",
                hlyzd:false,//指定护理员
                hlyisshow:false,
                HLYpageSize:0,
                HLYtotal:0,
                HLYObj:{},
                HLYrowData: [],
                HLYdataKey:[
                    {
                        headerName:"状态",
                        width:100,
                        field: 'statusDesc',
                        cellStyle: function(params) {
                            switch(params.data.status){
                                case 1:
                                    return {color:"#40ca98"}
                                break;
                                case 3:
                                    return {color:"#3b77e3"}
                                break;
                                case 9:
                                    return {color:"#d53c39"}
                                break;
                            }
                        }
                    },
                    {
                        headerName:"编号",
                        field:"code",
                        width:100
                    },
                    {
                        headerName:"护理员",
                        field: 'name',
                        width:100
                    },
                    {
                        headerName:"性别",
                        field:'gender',
                        width:100
                    },
                    {
                        headerName:"地址",//"地址",
                        field:'addressDetail',
                        width:200
                    },
                    {
                        headerName:"电话",//"电话",
                        field:'mobile',
                        width:100
                    },
                    {
                        headerName:"开始时间",//"电话",
                        field:'serviceStartTime',
                        width:100
                    },
                    {
                        headerName:"结束时间",//"电话",
                        field:'serviceEndTime',
                        width:100
                    },

                ],
                hlyid:"",//护理员id

                detailsArr:['工单','身份证','医保卡'],
                gdhistory:[],
                current0:1,
                total0:0,
                pageSize0:0,
                columnsgd:[
                     {
                        headerName: "编号",
                        field: "code",
                        pinned: 'left',
                        width:180,
                    },
                    {
                        headerName:"护理员",
                        field:'caregiversName',
                        width:180,
                    },
                    
                    {
                        headerName:"电话",//"电话",
                        field:'mobile',
                        width:180,
                    },
                    {
                        headerName:"开始时间",
                        field: 'startTime',
                        width:180,
                    },
                    {
                        headerName:"结束时间",
                        field: 'endTime',
                        width:180,
                    },
                    {
                        headerName:"周一",
                        field:'monday',
                       
                        width:180,
                        cellStyle: function(params) {
                            if (params.value=="服务") {
                                //mark police cells as red
                                return {color: '#fff', backgroundColor: 'green'};
                            } else {
                                return {color: '#fff', backgroundColor: '#ff0000'};;
                            }
                        }

                    },
                    {
                        headerName:"周二",
                        field:'tuesday',
                        width:180,
                        cellStyle: function(params) {
                            if (params.value=="服务") {
                                //mark police cells as red
                                return {color: '#fff', backgroundColor: 'green'};
                            } else {
                                return {color: '#fff', backgroundColor: '#ff0000'};;
                            }
                        }
                    },
                    {
                        headerName:"周三",
                        field:'wednesday',
                        width:180,
                        cellStyle: function(params) {
                            if (params.value=="服务") {
                                //mark police cells as red
                                return {color: '#fff', backgroundColor: 'green'};
                            } else {
                                return {color: '#fff', backgroundColor: '#ff0000'};;
                            }
                        }
                    },
                    {
                        headerName:"周四",
                        field:'thursday',
                        width:180,
                        cellStyle: function(params) {
                            if (params.value=="服务") {
                                //mark police cells as red
                                return {color: '#fff', backgroundColor: 'green'};
                            } else {
                                return {color: '#fff', backgroundColor: '#ff0000'};;
                            }
                        }
                    },
                    {
                        headerName:"周五",
                        field:'friday',
                        width:180,
                        cellStyle: function(params) {
                            if (params.value=="服务") {
                                //mark police cells as red
                                return {color: '#fff', backgroundColor: 'green'};
                            } else {
                                return {color: '#fff', backgroundColor: '#ff0000'};;
                            }
                        }
                    },
                    {
                        headerName:"周六",
                        field:'saturday',
                        width:180,
                        cellStyle: function(params) {
                            if (params.value=="服务") {
                                //mark police cells as red
                                return {color: '#fff', backgroundColor: 'green'};
                            } else {
                                return {color: '#fff', backgroundColor: '#ff0000'};;
                            }
                        }
                    },
                    {
                        headerName:"周日",
                        field:'sunday',
                        width:180,
                        cellStyle: function(params) {
                            if (params.value=="服务") {
                                //mark police cells as red
                                return {color: '#fff', backgroundColor: 'green'};
                            } else {
                                return {color: '#fff', backgroundColor: '#ff0000'};;
                            }
                        }
                    },
                    
                ],
                zdhistory:[],
                current1:1,
                total1:0,
                pageSize1:0,
                columnszd:[
                    {}
                ],
                loghistory:[],
                current2:1,
                total2:0,
                pageSize2:0,
                columnslog:[],
                num5:0,
               
                weekModel:false,
                titlessku:['身份证','医保卡'],
                num4:0,
                gender:0,//性别默认女
                genders:[
                    {
                        lable:"男",
                        value:1
                    },
                    {
                        lable:"女",
                        value:0
                    },
                ],
                first0:false,
                first1:false,
                first2:false,
                first3:false,
                first4:false,
                first5:false,
                first6:false,
                searchKeyword:'',
                CodeToText:CodeToText,//code转为Text
                TextToCode:TextToCode,//Text转为code
                cityInfo:regionData,//地址数据
                selectedOptions2:['310000','310100','310107'],//绑定的数据默认上海
                CommunityIsshow:false,//居委会弹框
                uid: this.$store.state.common.token,
                imageUrlS:LoadUrl.httpPrefix.Url+'file/action/upload/image/url?c=身份证图片&uid='+this.$store.state.common.token,
                imageUrlY:LoadUrl.httpPrefix.Url+'file/action/upload/image/url?c=医保卡&uid='+this.$store.state.common.token,
               
               
                importstore:false,//导入
                value:1,
                orderListname:[
                    {
                        label:"全部",
                        value:0
                    },
                    {
                        label:"待审核",
                        value:1
                    },
                    
                    {
                        label:"合约中",
                        value:3
                    },
                    {
                        label:"待恢复",
                        value:4
                    },
                    {
                        label:"中止中",
                        value:5
                    },
                    {
                        label:"已终止",
                        value:9
                    },
                ],
                landscape:true,
                validateForm:{
                    name:"",
                    mobile:"",
                    jsname:"",
                    tel:"",
                    birthday:"",
                    year:"",
                    month:"",
                    day:"",
                    address:"",
                    tjqd:"",//推荐渠道
                    hly:"",//护理员
                    hlbtime:"",//护理时间
                    hletime:"",//护理结束时间
                    code:"",
                    level:"",//等级
                    contractStart:"",//合同开始时间
                    contractEnd:"",//合同结束时间
                    display: true,
                    type: 'ampm',
                    viewType: 'list',
                    street: '',
                    imageS:"",//身份证正面照片
                    imageS2:"",//身份证背面照片
                    imageY:"",//医保卡
                    housingEstateName:"",//居委会名称
                    housingEstateId:"",//居委会id
                    ibeaconMajor:"",
                    ibeaconUUID:"",
                },
                usernameRules:[{ validate: (val) => !!val, message:"必须填写姓名"}],//姓名不能为空,
                mobileRules:[{ validate: (val) => !!val, message:"必须填写手机号"},//必须填写手机号
                            { validate: (val) => /^1[3|4|5|7|8][0-9]{9}$/.test(val), message:"请输入正确的手机号"}],
                jsnameRules:[{ validate: (val) => !!val, message:"必须填写姓名"}],
                telRules:[{ validate: (val) => !!val, message:"紧急联络电话"},
                            { validate: (val) => /(^[0-9]{3,4}\-[0-9]{3,8}$)|(^[0-9]{3,8}$)|(^\([0-9]{3,4}\)[0-9]{3,8}$)|(^0{0,1}13[0-9]{9}$)/.test(val), message:"请输入正确的电话号码"}],

                contractStartRules:[{ validate: (val) => !!val, message:"必须填合同开始时间"}],
                contractEndRules:[{ validate: (val) => !!val, message:"必须填合同结束时间"}],
                housingEstateNameRules:[{ validate: (val) => !!val, message:"必须选择居委会地址"}],
                addressRules:[{ validate: (val) => !!val, message:"必须填写地址"}],
                dialogVisible:false,
                xiugaibtn2:false,//修改的保存按钮
                xiugaibtn1:false,//修改按钮
                details:false,//详情页是否显示
                xiugai:false,//修改页面是否显示
                storeDetails:{},//仓库详情
                //会员
                employeeVoList:[],
                columns2: [],
                height:'',
                current:1,
                numIndex:-1,//侧栏下标
                indexId:"",//id
                addText: true, //新建true  修改false
               
                storeList: [],
                total: 0, //页码总数
                pageSize: 0, //页面条数
                province: '', //省
                city: '', //市
                district: '', //区
                remark: '', //备注
            }
        },
        methods: {
            //移动到身份证上
            overImg(){
                this.imgisshow=true
                this.detailsImg=this.validateForm.imageS
               
            },
            overImg1(){
                this.imgisshow=true
                this.detailsImg=this.validateForm.imageS2
               
            },
            //
            overImg2(){
                this.imgisshow=true
                this.detailsImg=this.validateForm.imageY
               
            },
            //周一到周日
            changeDay0(e){
                if(e){this.first0=e} 
                console.log(this.first0)
            },
            changeDay1(e){
                if(e) this.first1=e
               
            },
            changeDay2(e){
                if(e) this.first2=e
              
            },
            changeDay3(e){
                if(e) this.first3=e
               
            },
            changeDay4(e){
                if(e) this.first4=e
            
            },
            changeDay5(e){
                if(e) this.first5=e
             
            },
            changeDay6(e){
                if(e) this.first6=e
                
            },
            //推荐渠道选择护理员
            chooseHly(){
                this.hlyisshow1=true
                this.gethly1()
            },
            //搜索
            search(){
                this.axios.get('/aunt/query?keyword='+this.searchKeyword+'&uid=' + this.uid+'&status='+this.value).then((res) => {
                let data = res.data;
                if(res.data.status == '200') {
                    this.storeList = data.rows;
                    this.pageSize = data.pageSize;
                    this.total = data.total;
                    this.storeList.forEach(x=>{
                        if(x.gender==1){    
                            x.gender="男"
                        }else{
                            x.gender="女"
                        }
                    })
                    }
                })
            },
            //下拉选择
            selectChange(v){
                this.value=v
                this.numIndex=-1
                this.current=1
                this.getStoreList(v);
                if(this.value==0){
                    this.axios.get('/aunt/query?length=500&uid=' + this.uid).then((res) => {
                        let data = res.data;
                        if(res.data.status == '200') {
                            this.storeList = data.rows;
                            this.pageSize = data.pageSize;
                            this.total = data.total;
                            this.storeList.forEach(x=>{
                                    if(x.gender==1){    
                                        x.gender="男"
                                    }else{
                                        x.gender="女"
                                    }
                                     x.Raddress=x.province+x.city+x.district+x.addressDetail
                                })
                            }
                        })
                }
            },
            //选择性别
            changeGender(value){
                this.gender=value
                console.log(value)
            },
            //选择服务开始时间
            changebTime(time){
                this.validateForm.hlbtime=time
                console.log(time)
            },
            //选择服务结束时间
            changeeTime(time){
                this.validateForm.hletime=time
                // console.log(time)
            },
            //选择生日
            changeyear(d){
                this.validateForm.year=d
                console.log(d)
            },
            changemonth(d){
                this.validateForm.month=d
                console.log(d)
            },
            changedate(d){
                this.validateForm.date=d
                console.log(d)
            },
            //合同开始时间
            changecontractStart(d){
                this.validateForm.contractStart=d
            },
            //合同开始时间
            changecontractEnd(d){
                this.validateForm.contractEnd=d
            },
             //续约
            contract(){
                this.contractisshow=true
            },
            //续约开始时间选择
            changecontractbTime(d){
                this.contractvalidateForm.startDate=d
            },
            changecontracteTime(d){
                this.contractvalidateForm.endDate=d
            },
            //续约确认GET /aunt/contract/{id} 续约
            contractSure(){
                this.$refs.contractform.validate().then((result) => {
                    if(result){
                        this.axios.get('/aunt/contract/'+this.indexId+'?uid='+this.uid,{
                            params:{
                                startDate:this.contractvalidateForm.startDate,
                                endDate:this.contractvalidateForm.endDate,
                                remark:this.contractvalidateForm.remark,
                            }
                        }).then(res=>{
                            if(res.data.status==200){
                                this.addStoreInfo()
                                this.getStoreList(1)
                                this.contractisshow=false
                                this.contractvalidateForm.startDate=''
                                this.contractvalidateForm.endDate=''
                                this.contractvalidateForm.remark=''
                                this.$notify({
                                    title:"",//
                                    message:"续约成功",
                                    type: 'success',
                                    position: 'bottom-right'
                                });
                            }else{
                                this.$notify({
                                    title:"",//
                                    message: res.data.errorMessage,
                                    type: 'error',
                                    position: 'bottom-right'
                                });
                            }
                        })
                    }
                })
            },
            //取消续约确认
            contractCancel(){
                this.contractisshow=false
                this.contractvalidateForm.startDate=''
                this.contractvalidateForm.endDate=''
                this.contractvalidateForm.remark=''
            },



            //省市区
            handleChange(arr){
                console.log(arr)
                this.province = this.CodeToText[arr[0]]
                this.city =this.CodeToText[arr[1]]
                this.district = this.CodeToText[arr[2]]
            },
            //点击选择居委会GET /housingEstate/query 居委会清
            clickCommunity(){
                this.CommunityIsshow=true
                this.axios.get('/housingEstate/query?uid='+this.uid).then(res=>{
                    if(res.data.status==200){
                        this.QrowData=res.data.rows
                        this.Qtotal=res.data.total
                        this.QpageSize=res.data.pageSize
                        // this.QrowData.forEach(x=>{
                        //     x.Raddress=x.province+x.city+x.district+x.addressDetail
                        // })
                    }
                })
            },
            QchangeSize(size){
                this.Qcurrent=size
                if(this.keywordQ==""){
                    this.axios.get('/housingEstate/query?offset='+this.Qcurrent+'&uid='+this.uid).then(res=>{
                        if(res.data.status==200){
                            this.QrowData=res.data.rows
                            this.Qtotal=res.data.total
                            this.QpageSize=res.data.pageSize
                            
                        }
                    })
                }else{
                    this.axios.get('/housingEstate/query?keyword='+this.keywordQ+'&offset='+this.Qcurrent+'&uid='+this.uid).then(res=>{
                        if(res.data.status==200){
                            this.QrowData=res.data.rows
                            this.Qtotal=res.data.total
                            this.QpageSize=res.data.pageSize
                            
                        }
                    }) 
                }
                
            },
            //搜索居委会
            enterQ(){
                this.axios.get('/housingEstate/query?keyword='+this.keywordQ+'&uid='+this.uid).then(res=>{
                    if(res.data.status==200){
                        this.QrowData=res.data.rows
                        this.Qtotal=res.data.total
                        this.QpageSize=res.data.pageSize
                        // this.QrowData.forEach(x=>{
                        //     x.Raddress=x.province+x.city+x.district+x.addressDetail
                        // })
                    }
                })
            },
            //单击一行
            QClickRow(data){
                this.QObj=data.data
            },
            dblClickQ(row){
                let data=row.data
                this.CommunityIsshow=false
                this.validateForm.housingEstateId=data.id
                this.validateForm.housingEstateName=data.name
                this.validateForm.street=data.street
               
            },
            //居委会取消
            CommunityCancel(){
                this.CommunityIsshow=false
            },
            //居委会确认
            CommunitySure(){
                this.CommunityIsshow=false
                this.validateForm.housingEstateId=this.QObj.id
                this.validateForm.housingEstateName=this.QObj.name
                this.validateForm.street=this.QObj.street
               
            },
            //上传前
            beforeAvatarUpload(file) {
                const isJPG = file.type === 'image/jpeg';
                const isPng = file.type === 'image/png';
                const isLt2M = file.size / 1024 / 1024 < 2;
                if (!isJPG && !isPng) {
                      this.$notify({
                        title: "",//'失败',
                        message:this.$t('public.upJpngOrPng'),
                        type: 'error',
                        position: 'bottom-right'
                    });
                }
                if (!isLt2M) {
                     this.$notify({
                        title: "",//'失败',
                        message:this.$t('public.upJpngTwoM'),
                        type: 'error',
                        position: 'bottom-right'
                    });
                }
                return isJPG || isPng && isLt2M;
              },
            //上传身份证照片成功
            handleAvatarSuccess(res, file){
                this.validateForm.imageS=res.rows.url
            },
            beforeAvatarUpload2(file) {
                const isJPG = file.type === 'image/jpeg';
                const isPng = file.type === 'image/png';
                const isLt2M = file.size / 1024 / 1024 < 2;
                if (!isJPG && !isPng) {
                      this.$notify({
                        title: "",//'失败',
                        message:this.$t('public.upJpngOrPng'),
                        type: 'error',
                        position: 'bottom-right'
                    });
                }
                if (!isLt2M) {
                     this.$notify({
                        title: "",//'失败',
                        message:this.$t('public.upJpngTwoM'),
                        type: 'error',
                        position: 'bottom-right'
                    });
                }
                return isJPG || isPng && isLt2M;
              },
            handleAvatarSuccess2(res, file){
                this.validateForm.imageS2=res.rows.url
            },
            //上传医保卡成功
            handleAvatarSuccessJ(res, file){
                this.validateForm.imageY=res.rows.url
            },
            //双击信息
            seeStoreInfo(id,index) {
                this.addText = false;
                this.xiugai=false
                this.details=true
                this.indexId = id;
                this.numIndex = index;
                this.xiugaibtn2=false
                this.xiugaibtn1=true
                
                this.getStoreDetail(id);
            },
            //提交/aunt/enabled/{id} 启用this.indexId
            comite(){
                this.axios.get('/aunt/enabled/'+this.indexId+'?uid='+this.uid).then(res=>{
                    if(res.data.status==200){   
                        this.$notify({
                            title:"",//
                            message:"已提交",
                            type: 'success',
                            position: 'bottom-right'
                        });
                       this.getStoreListS(this.value)
                    }else{
                        this.$notify({
                            title:"",//
                            message:res.data.errorMessage,
                            type: 'error',
                            position: 'bottom-right'
                        });
                    }
                })
            },
            // /aunt/disabled/{id}终止
            stopCancel(){
                this.stopRremark=""
                this.stopRremarkisshow=false
            },
            //终止确认
            stopSure(){
                 this.axios.get('/aunt/disabled/'+this.indexId+'?uid='+this.uid,{
                    params:{
                        keyword:this.stopRremark
                    }
                 }).then(res=>{
                    if(res.data.status==200){   
                        this.$notify({
                            title:"",//
                            message:"已终止",
                            type: 'success',
                            position: 'bottom-right'
                        });
                        this.stopRremark=""
                        this.stopRremarkisshow=false
                       this.getStoreListS(this.value)

                    }else{
                        this.$notify({
                            title:"",//
                            message:res.data.errorMessage,
                            type: 'error',
                            position: 'bottom-right'
                        });
                    }
                })
            },
            //点击终止
            stop(){
                this.stopRremarkisshow=true
            },
            //删除用户
            delUser() {
                this.$Modal.confirm({
                    title: '删除客户',
                    content: '<p>确定要删除吗?删除后信息将不可恢复！</p>',
                    onOk: () => {
                        this.axios.delete('/aunt/delete/'+this.indexId+'?uid='+this.uid).then(res=>{
                            if(res.data.status==200){   
                                this.$notify({
                                    title:"",//
                                    message:"已删除",
                                    type: 'success',
                                    position: 'bottom-right'
                                });
                                
                                this.getStoreListS(this.value)
                            }else{
                                this.$notify({
                                    title:"",//
                                    message:res.data.errorMessage,
                                    type: 'error',
                                    position: 'bottom-right'
                                });
                            }
                        })
                    },
                   
                });
                
            },
           //生效GET /zhb/aunt/enabled/{id} 生效
           enabled(){
            this.$Modal.confirm({
                    title: '恢复客户',
                    content: '<p>确定要恢复客户吗?</p>',
                    onOk: () => {
                        this.axios.get('/aunt/enabled/'+this.indexId+'?uid='+this.uid).then(res=>{
                    
                            if(res.data.status==200){   
                                this.$notify({
                                    title:"",//
                                    message:"已生效",
                                    type: 'success',
                                    position: 'bottom-right'
                                });
                                this.getStoreListS(this.value)
                            }else{
                                this.$notify({
                                    title:"",//
                                    message:res.data.errorMessage,
                                    type: 'error',
                                    position: 'bottom-right'
                                });
                            }
                            
                        })
                    },
                   
                });
                
           },
            //新建客户
            addStoreInfo() {
                this.addText = true;
                this.xiugaibtn2=false
                this.xiugaibtn1=false
                this.details=false
                this.xiugai=false
                this.validateForm.ibeaconMajor=""
                this.validateForm.ibeaconUUID=""
                this.selectedOptions2=['310000','310100','310107']
                this.address=''
                this.validateForm.name=''
                this.validateForm.mobile=''
                this.gender=0
                this.validateForm.name=''
                this.validateForm.mobile=''
                this.validateForm.jsname=''
                this.validateForm.tel=''
                this.validateForm.address=''
                this.validateForm.street=''
                this.HLYObj={}
                this.hlyid=''
                this.validateForm.hly=''
                this.validateForm.year=''
                this.validateForm.month=''
                this.validateForm.day=''
                this.validateForm.hlbtime=''//护理时间
                this.validateForm.hletime=''//护理结束时间
                this.validateForm.housingEstateId=''
                this.validateForm.housingEstateName=''
                this.validateForm.imageS=''//身份证照片
                this.validateForm.imageS2=''
                this.validateForm.imageY=''//医保卡
                this.validateForm.tjqd=''
                this.validateForm.contractStart=''//合同开始时间
                this.validateForm.contractEnd=''//合同结束时间
                this.validateForm.code=''//编号
                this.validateForm.level=''
                this.first0=false
                this.first1=false
                this.first2=false
                this.first3=false
                this.first4=false
                this.first5=false
                this.first6=false
            },
            //证件材料tab
            addbordersku(index){
                this.num4=index
            },
            //选择日期
            chooseDate(){
                this.weekModel=true
            },
            //详情
            addborderdefails(index){
                this.num5=index
                // if(){

                // }
            },
            changeSize0(size){
                this.current0=size
            },
            changeSize1(size){
                this.current1=size
            },
            changeSize2(size){
                this.current2=size
            },
            //获取从今天开始后一周
            getweek1To7(){
                var currentDate = new Date()
                var timesStamp = currentDate.getTime();
                var currenDay = currentDate.getDay();
                var dates = [];
                for (var i = 0; i < 7; i++) {
                    dates.push(new Date(timesStamp + 24 * 60 * 60 * 1000 * i).toLocaleDateString().replace(/\//g, '-'));
                }
                return dates
            },
            gethly(){
                this.axios.get('/caregivers/query?uid=' + this.uid+'&status=3').then((res) => {
                    if(res.data.status == '200') {
                        this.HLYrowData = res.data.rows;
                        this.HLYpageSize = res.data.pageSize;
                        this.HLYtotal = res.data.total;
                        this.HLYrowData.forEach(x=>{
                            if(x.gender==1){    
                                x.gender="男"
                            }else{
                                x.gender="女"
                            }
                            
                            x.serviceStartTime  = new Date(x.serviceStartTime).toTimeString().substring(0, 5)
                            x.serviceEndTime = new Date(x.serviceEndTime).toTimeString().substring(0, 5)
                        })
                        
                    }
                })
            },
            gethly1(){
                this.axios.get('/caregivers/query?uid=' + this.uid+'&status=3').then((res) => {
                    let data = res.data;
                    if(res.data.status == '200') {
                        this.HLYrowData1 = data.rows;
                        this.HLYpageSize1 = data.pageSize;
                        this.HLYtotal1 = data.total;
                        this.HLYrowData1.forEach(j=>{
                            if(j.gender==1){    
                                j.gender="男"
                            }else{
                                j.gender="女"
                            }
                           j.serviceStartTime  = new Date(j.serviceStartTime).toTimeString().substring(0, 5)
                            j.serviceEndTime = new Date(j.serviceEndTime).toTimeString().substring(0, 5)
                            
                            console.log(j.serviceStartTime)
                        })
                    }
                })
            },
            //制定护理员翻页
            HLYchangeSize2(size){
                this.HLYcurrent=size
                this.axios.get('/caregivers/query?offset='+this.HLYcurrent+'&uid=' + this.uid+'&status=3').then((res) => {
                    let data = res.data;
                    if(res.data.status == '200') {
                        this.HLYrowData = data.rows;
                        this.HLYpageSize = data.pageSize;
                        this.HLYtotal = data.total;
                        this.HLYrowData .forEach(x=>{
                            if(x.gender==1){    
                                x.gender="男"
                            }else{
                                x.gender="女"
                            }
                        x.serviceStartTime  = new Date(x.serviceStartTime).toTimeString().substring(0, 5)
                        x.serviceEndTime = new Date(x.serviceEndTime ).toTimeString().substring(0, 5)
                        })
                        
                    }
                })
            },
            //点击获取护理员
           clickhly(){
                this.hlyisshow=true
                this.gethly()
           },
           //点击护理员一行
            hlyClickRow(data){
                this.HLYObj=data.data
            },
            //双击
            dblClickhyl(row){
                this.hlySure()
            },
            //护理员确认
            hlySure(){
                this.hlyisshow=false
                this.validateForm.hlyphone=this.HLYObj.mobile
                this.hlyid=this.HLYObj.id
                this.validateForm.hly=this.HLYObj.name
            },
            //护理员取消
            cancelhly(){
                this.hlyisshow=false
            },
            //搜索护理员
            enterhly(){
                this.axios.get('/caregivers/query?keyword='+this.hlykeyword+'&uid=' + this.uid+'&status=3').then((res) => {
                    let data = res.data;
                    if(res.data.status == '200') {
                        this.HLYrowData = data.rows;
                        this.HLYpageSize = data.pageSize;
                        this.HLYtotal = data.total;
                        this.HLYrowData .forEach(x=>{
                            if(x.gender==1){    
                                x.gender="男"
                            }else{
                                x.gender="女"
                            }
                            
                        })
                    }
                })
            },
            HLYchangeSize(size){
                this.HLYcurrent1=size
                this.axios.get('/caregivers/query?offset='+this.HLYcurrent1+'&uid=' + this.uid+'&status=3').then((res) => {
                    let data = res.data;
                    if(res.data.status == '200') {
                        this.HLYrowData1 = data.rows;
                        this.HLYpageSize1 = data.pageSize;
                        this.HLYtotal1 = data.total;
                        this.HLYrowData1 .forEach(x=>{
                            if(x.gender==1){    
                                x.gender="男"
                            }else{
                                x.gender="女"
                            }
                            
                        })
                    }
                })
            },
            //推荐渠道护理员
            //点击护理员一行
            hlyClickRow1(data){
                this.HLYObj1=data.data
            },
            dblClickhyl1(row){
                let data=row.data
                console.log(data)
                this.hlyisshow1=false
                this.hlyid1=data.id
                this.validateForm.tjqd=data.name
                
            },
            //护理员确认
            hlySure1(){
                this.hlyid1=this.HLYObj1.id
                this.validateForm.tjqd=this.HLYObj1.name
                this.hlyisshow1=false
                
            },
            //护理员取消
            cancelhly1(){
                this.hlyisshow1=false
            },
            //搜索护理员
            enterhly1(){
                this.axios.get('/caregivers/query?keyword='+this.hlykeyword1+'&uid=' + this.uid+'&status=3').then((res) => {
                    let data = res.data;
                    if(res.data.status == '200') {
                        this.HLYrowData1 = data.rows;
                        this.HLYpageSize1 = data.pageSize;
                        this.HLYtotal1 = data.total;
                        this.HLYrowData1 .forEach(x=>{
                            if(x.gender==1){    
                                x.gender="男"
                            }else{
                                x.gender="女"
                            }
                           
                        })
                    }
                })
            },
            //取消保存
            addCancel(){
                this.addStoreInfo()
            },
            //取消修改
            editCancel(){
                this.seeStoreInfo(this.indexId,this.numIndex)
            },
            //获取所有信息列表
            getStoreList(s) {
               this.axios.get('/aunt/query?length=500&uid=' + this.uid+"&status="+s).then((res) => {
                let data = res.data;
                if(res.data.status == '200') {
                    this.storeList = data.rows;
                    this.pageSize = data.pageSize;
                    this.total = data.total;
                    this.storeList.forEach(x=>{
                            if(x.gender==1){    
                                x.gender="男"
                            }else{
                                x.gender="女"
                            }
                             x.Raddress=x.province+x.city+x.district+x.addressDetail
                        })
                    }
                })
            },
            //提交后的搜索当前的客户的状态
            getStoreListS(s) {
               this.axios.get('/aunt/query?length=500&uid=' + this.uid+"&status="+s).then((res) => {
                if(res.data.status == '200') {
                    let data = res.data;
                    this.storeList = data.rows;
                    this.pageSize = data.pageSize;
                    this.total = data.total;
                    this.storeList.forEach(x=>{
                            if(x.gender==1){    
                                x.gender="男"
                            }else{
                                x.gender="女"
                            }
                             x.Raddress=x.province+x.city+x.district+x.addressDetail
                        })
                    if(this.storeList.length!=0){
                        this.seeStoreInfo(this.storeList[0].id,0)
                    }
                    
                    }
                })
            },
            addZero(num){
                if (num<10){
                    return "0"+num
                }
                else{
                    return num       
                }
            },
             //保存
            saveAddInfo () {
                console.log()
                this.$refs.form.validate().then((result) => {
                    if(result){
                        this.axios.post('aunt/add?uid='+this.uid,{
                            name:this.validateForm.name,
                            mobile:this.validateForm.mobile,
                            familyName:this.validateForm.jsname,
                            emergencyCall:this.validateForm.tel,
                            addressDetail:this.validateForm.address,
                            birthday:this.validateForm.year+'/'+this.validateForm.month+'/'+this.validateForm.day,
                            code:this.validateForm.code,//编号
                            level:this.validateForm.level,//等级
                            recommendName:this.validateForm.tjqd,//推荐人
                            recommendNameId:this.hlyid1,//推荐人
                            caregiversName:this.validateForm.hly,//护理员
                            caregiversId:this.hlyid,
                            contractStart:this.validateForm.contractStart,//合同开始时间
                            contractEnd:this.validateForm.contractEnd,//合同结束时间
                            housingEstateId:this.validateForm.housingEstateId,//居委会id
                            committees:this.validateForm.housingEstateName,//居委会名称
                            street:this.validateForm.street,//街道
                            province:this.CodeToText[this.selectedOptions2[0]],
                            city:this.CodeToText[this.selectedOptions2[1]],
                            district:this.CodeToText[this.selectedOptions2[2]],
                            monday: this.first0,
                            tuesday: this.first1,
                            wednesday: this.first2,
                            thursday: this.first3,
                            friday: this.first4,
                            saturday: this.first5,
                            sunday: this.first6,
                            purposeStartTime:this.addZero(new Date(this.validateForm.hlbtime).getHours())+':'+this.addZero(new Date(this.validateForm.hlbtime).getMinutes()),//护理时间
                            purposeEndTime:this.addZero(new Date(this.validateForm.hletime).getHours())+':'+this.addZero(new Date(this.validateForm.hletime).getMinutes()),//护理结束时间
                            
                            identityCardPic:this.validateForm.imageS,//身份证正面照片
                            identityCardBackPic:this.validateForm.imageS2,//身份证背面照片
                            gender:this.gender,
                            medicareCardPic:this.validateForm.imageY,//医保卡
                            // ibeaconMajor:this.validateForm.ibeaconMajor,
                            // ibeaconUUID:this.validateForm.ibeaconUUID,
                        }).then(res=>{
                            if(res.data.status==200){
                                this.addStoreInfo()
                                this.getStoreList(1)
                                this.$notify({
                                    title:"成功",//
                                    message:"保存成功",
                                    type: 'success',
                                    position: 'bottom-right'
                                });
                            }else{
                                this.$notify({
                                    title:"",//
                                    message: res.data.errorMessage,
                                    type: 'error',
                                    position: 'bottom-right'
                                });
                            }
                        })
                    }
                })
            },
            // getDate1(strDate){
            //     var regEx = new RegExp("\\-","gi");
            //     strDate = strDate.replace(regEx,"/");
            //     var milliseconds = Date.parse(strDate);
                
            //     var date = new Date();
            //     date.setTime(milliseconds);
            //     return date;
            // },
            //则根据id去获得详情GET /aunt/getDetail/{id} 客户详情
            getStoreDetail(id) {
                this.axios.get('/aunt/getDetail/'+this.indexId+'?uid='+this.uid).then(res=>{
                    if(res.data.status==200){

                        let rwos=res.data.rows
                        this.storeDetails=res.data.rows
                        this.validateForm.ibeaconMajor=rwos.code
                        this.validateForm.ibeaconUUID=rwos.ibeaconUUID
                        console.log(this.validateForm.ibeaconUUID)
                        
                        this.validateForm.name=rwos.name
                        this.storeTxt =rwos.code
                        this.validateForm.code=rwos.code//编号
                        this.validateForm.mobile=rwos.mobile
                        // this.validateForm.birthday=rwos.birthday
                        this.validateForm.level=rwos.level//等级
                        this.reason=rwos.reason
                        let date=new Date()
                        let year=date.getFullYear()
                        let month=date.getMonth()+1
                        let day=date.getDate()
                        let Minutes=date.getMinutes()
                   
                        // this.validateForm.hlbtime=rwos.purposeStartTime//护理时间
                    
                        if(rwos.purposeStartTime=="NaN:NaN"){
                            this.validateForm.hlbtime=""
                        }else{
                            let Time=year+'-'+month+'-'+day+' '+rwos.purposeStartTime
                            console.log(Time)
                            this.validateForm.hlbtime=new Date(Time)//护理时间
                            console.log(new Date(rwos.purposeStartTime))

                        }
                        if(rwos.purposeEndTime=="NaN:NaN"){
                            this.validateForm.hletime=""
                        }else{
                            let Time=year+'-'+month+'-'+day+' '+rwos.purposeEndTime
                            this.validateForm.hletime=new Date(Time)//护理时间
                        }
                       
                        // this.validateForm.hletime=rwos.purposeEndTime//护理结束时间
                        
                        this.validateForm.level=rwos.level
                        this.validateForm.jsname=rwos.familyName
                        this.validateForm.tel=rwos.emergencyCall
                        this.validateForm.contractStart=rwos.contractStart//合同开始时间
                        this.validateForm.contractEnd=rwos.contractEnd//合同结束时间
                        this.validateForm.tjqd=rwos.recommendName//推荐人
                        this.hlyid1=rwos.recommendNameId//推荐人
                        this.validateForm.hly=rwos.caregiversName//护理员
                        this.hlyid=rwos.caregiversId//护理员id
                        this.gender=rwos.gender
                        this.validateForm.imageS=rwos.identityCardPic//身份证正面照片
                        this.validateForm.imageS2=rwos.identityCardBackPic//身份证背面照片
                        this.validateForm.imageY=rwos.medicareCardPic
                        this.validateForm.tel=rwos.emergencyCall
                      
                        this.first0=rwos.monday
                        this.first1=rwos.tuesday
                        this.first2=rwos.wednesday
                        this.first3=rwos.thursday
                        this.first4=rwos.friday
                        this.first5=rwos.saturday
                        this.first6=rwos.sunday
                        this.validateForm.housingEstateId=rwos.housingEstateId//居委会id
                        this.validateForm.housingEstateName=rwos.committees //居委会名称
                        this.validateForm.street=rwos.street //街道
                        this.getOrderDetails(this.storeTxt)
                        switch(rwos.status){
                            case 1://提交
                                this.comiteisshow=true
                                this.stop1=false
                                this.enabledisshow=false
                            break;
                            case 3://合约中
                                this.comiteisshow=false
                                this.stop1=true
                                this.enabledisshow=false
                            break;
                            case 4://待恢复
                                this.comiteisshow=false
                                this.stop1=false
                                this.enabledisshow=true
                            break;
                            case 5://中止
                                this.enabledisshow=true
                                this.stop1=true
                            break;
                            case 9://终止
                                this.stop1=false
                                this.comiteisshow=false
                                this.enabledisshow=true
                            break;
                        }
                        this.validateForm.address=rwos.addressDetail
                        this.province=rwos.province
                        this.city=rwos.city
                        this.district=rwos.district

                        if(this.province==null||this.province=='' || this.city==null||this.city=='' || this.district==null||this.district==''){
                            this.selectedOptions2=['310000','310100','310107']
                        }else{
                            this.selectedOptions2=[this.TextToCode[this.province].code,this.TextToCode[this.province][this.city].code,this.TextToCode[this.province][this.city][this.district].code]
                        }
                        let darArr=[]
                        if(rwos.birthday==null || rwos.birthday==undefined){
                            this.validateForm.year=""
                            this.validateForm.month=""
                            this.validateForm.day=""
                        }else{
                            darArr=rwos.birthday.split('/')
                            this.validateForm.year=darArr[0]
                            this.validateForm.month=darArr[1]
                            this.validateForm.day=darArr[2] 
                        }
                        
                    }
                })
            },
            //点击修改
            updateStoreInfo1:function () {
                this.xiugai=true
                this.details=false
                this.addText=false
                this.xiugaibtn2=true
                this.xiugaibtn1=false
            },
            //执行修改PUT /aunt/update 修改客户PUT /aunt/update 修改客户
            updateStoreInfo2(){
                this.$refs.Editform.validate().then((result) => {
                    if(result){
                        this.axios.put('/aunt/update?uid='+this.uid,{
                            id:this.indexId,
                            name:this.validateForm.name,
                            mobile:this.validateForm.mobile,
                            familyName:this.validateForm.jsname,
                            level:this.validateForm.level,
                            purposeStartTime:this.addZero(new Date(this.validateForm.hlbtime).getHours())+':'+this.addZero(new Date(this.validateForm.hlbtime).getMinutes()),//护理时间
                            purposeEndTime:this.addZero(new Date(this.validateForm.hletime).getHours())+':'+this.addZero(new Date(this.validateForm.hletime).getMinutes()),//护理结束时间
                            emergencyCall:this.validateForm.tel,
                            addressDetail:this.validateForm.address,
                            birthday:this.validateForm.year+'/'+this.validateForm.month+'/'+this.validateForm.day,
                            code:this.validateForm.code,//编号
                            recommendName:this.validateForm.tjqd,//推荐人
                            recommendNameId:this.hlyid1,//推荐人
                            caregiversName:this.validateForm.hly,//护理员
                            caregiversId:this.hlyid,
                            contractStart:this.validateForm.contractStart,//合同开始时间
                            contractEnd:this.validateForm.contractEnd,//合同结束时间
                            housingEstateId:this.validateForm.housingEstateId,//居委会id
                            committees:this.validateForm.housingEstateName,//居委会名称
                            street:this.validateForm.street,//街道
                            province:this.province,
                            city:this.city,
                            district:this.district,
                            monday: this.first0,
                            tuesday: this.first1,
                            wednesday: this.first2,
                            thursday: this.first3,
                            friday: this.first4,
                            saturday: this.first5,
                            sunday: this.first6,
                            gender:this.gender,
                            identityCardPic:this.validateForm.imageS,//身份证照片
                            identityCardBackPic:this.validateForm.imageS2,//身份证背面照片
                            medicareCardPic:this.validateForm.imageY,//医保卡
                          
                            ibeaconMajor:this.validateForm.ibeaconMajor,
                            ibeaconUUID:this.validateForm.ibeaconUUID,
                        }).then(res=>{
                            if(res.data.status==200){
                                this.addStoreInfo()
                                this.getStoreList(this.value)
                                this.seeStoreInfo(this.indexId,this.numIndex)
                                this.$notify({
                                    title:"成功",//
                                    message:"修改成功",
                                    type: 'success',
                                    position: 'bottom-right'
                                });
                            }else{
                                this.$notify({
                                    title:"",//
                                    message: res.data.errorMessage,
                                    type: 'error',
                                    position: 'bottom-right'
                                });
                            }
                        })
                    }
                })
            },
            //点击差号
            cancelHome(){
                this.$router.push('/customerIndex')
            },
            //下拉加载更多
            handleReachEdge(){
                this.current++//默认10条
                this.axios.get('aunt/query?offset='+this.current+'&uid='+this.uid+'&status='+this.value+'&length=500'+'&status='+this.value).then(res=>{
                    if(this.current>Math.ceil(this.total/this.pageSize)){
                        this.current=Math.ceil(this.total/this.pageSize)
                    }
                    if(res.data.status==200){
                        res.data.rows.forEach(x=>{
                            this.storeList.push(x)
                            this.storeList.forEach(x=>{
                                    if(x.gender==1){    
                                        x.gender="男"
                                    }else{
                                        x.gender="女"
                                    }
                            })
                        })
                        
                    }
                })
            },
            //详情工单1GET /workOrder/query 工单清单
            getOrderDetails(value){
                this.axios.get('/workOrder/query?uid='+this.uid,{
                    params:{
                        auntCode:value
                    }
                }).then(res=>{
                    let data=res.data
                    this.gdhistory=data.rows
                    this.total0=data.total
                    this.pageSize0=data.pageSize
                    this.gdhistory.forEach(x=>{
                        this.getWeek(x)
                       
                        x.endTime=new Date(x.endTime).toTimeString().substring(0, 5).replace('Inval','')
                        x.startTime=new Date(x.startTime).toTimeString().substring(0, 5).replace('Inval','')
                       
                    })
                   
                })
            },
            //转化星期
        getWeek(x){
            if(x.monday){
                x.monday="服务"
            }else{x.monday="休息"}
            if(x.tuesday){
                x.tuesday="服务"
            }else{x.tuesday="休息"}
            if(x.wednesday){
                 x.wednesday="服务"
            }else{x.wednesday="休息"}
            if(x.thursday){
                x.thursday="服务"
            }else{x.thursday="休息"}
            if(x.friday){
                 x.friday="服务"
            }else{x.friday="休息"}
            if(x.saturday){
                x.saturday="服务"
            }else{x.saturday="休息"}
            if(x.sunday){
                x.sunday="服务"
            }else{x.sunday="休息"}
        },
        },
        created(){
            this.$nextTick(()=>{
                // this.gethly()
                // this.gethly1()
                
            })
        },
        mounted() {
            if(this.$route.query.id){
                this.indexId= this.$route.query.id;
                this.numIndex = this.$route.query.index;
                this.value=this.$route.query.s;
                this.getStoreList(this.value)
                // this.xiugaibtn2=false
                // this.xiugaibtn1=true
                this.seeStoreInfo(this.$route.query.id,this.$route.query.index)
                this.getStoreDetail(this.indexId)
            }else{
                this.getStoreList(1);
            }
            this.height = document.documentElement.clientHeight
            window.onresize=function(){
                this.height = document.documentElement.clientHeight
            }
        }
    }
</script>

<style  scoped>
.title-txt{
    font-size:16px;
    font-weight:600;
    margin:10px 0;
}
.tot{
    position:fixed;
    bottom:10px;
    left:15%;
    z-index:12;
}
.lanrenLeft{
    position: absolute;
    text-align: center;
    top: 0px;
    right: 0px;
    width: 0;
    height: 0;
    border-top:40px solid #d53c39;
    border-left:40px solid transparent;
}
.lanrenLeft span{
width: 40px;
    height: 23px;
    color: #fff;
    display: block;
    position: relative;
    z-index: 9999999999999;
    top: -36px;
    right: 36px;
    font-size: 12px;
     font-weight: 100;
    transform: rotate(46deg);
}
.bgd4{
    border-top:40px solid #3B77E3;
}
.bgd51{
    border-top:40px solid #FFE13D;
}
/*状态的颜色 新增*/
.bgd5{
    border-top:40px solid #40ca98;
}
/*状态的颜色 已停用*/
.bgd6{
    border-top:40px solid #d53c39;
}
.bgd61{
    border-top:40px solid #d53c39;
}
.top-left-btn{
        background: #3B77E3;
        margin-left: 10px;
        color: #fff;
        border: none;
        width: 26px;
        height: 26px;
        border-radius: 26px;
        display: inline-block;
        position: relative;
        top: 12px;
    }
    .top-left-btn1{
        background: #FF7D16;
    }
    .top-left-btn:hover{
        cursor:pointer;
    }
    .add-box {
        width: 100%;
        height:100%;
        overflow: hidden!important;
    }
    .cheng{
        width: 100%;
        height: 40px;
        /*margin-top: 10px;*/
    }
    .add-header{
        width: 100%;
        height: 60px;
       /* padding: 10px 0px;*/
        z-index: 1;
        background: #ffffff;

        display: flex;
        justify-content: space-between;
        /*position: fixed;*/
    }
    .top{
        display:flex;
        height:60px;
        line-height: 60px;
        position:fixed;
        width:100%;
        z-index:9;
        background: #fff;
       border-bottom:1px solid #eee;
    }
   .left-top{
    border-right:1px solid #eee;
   }
    .left-top{
        display:flex;
        justify-content: space-between;
        /* align-items: center; */
        padding:0 10px;
        /* height:60px; */
        width:360px;
        flex: 0 0 360px;
        /* line-height: 60px; */
    }
  
   
.avatar-uploader .el-upload {
    border: 1px dashed #d9d9d9;
    border-radius: 6px;
    cursor: pointer;
    position: relative;
    overflow: hidden;
  }
  .avatar-uploader .el-upload:hover {
    border-color: #20a0ff;
  }
  .avatar-uploader-icon {
    font-size: 28px;
    color: #8c939d;
    width: 300px;
    height: 178px;
    line-height: 178px;
    text-align: center;
  }
  .avatar {
    width: 290px;
    height: 178px;
    display: block;
  }
    .right-top{
        display: flex;
        justify-content: space-between;

    }
    .add-box:after {
        content: '';
        display: block;
        clear: both;
    }

    .add-left {
        width:360px;
        flex:0 0 360px;
        display:flex;
         background:#fff;
    }
    .left-content {
        height:100%;
        width:100%;
        margin-bottom:100px;
        border-right:1px solid #E6E6E6;
    }
    .page-box {

        background: #fff;
        position:fixed;
        bottom:45px;
    }

    .ivu-icon-navicon {
        font-size: 20px;
    }
    .main-btm{
        margin-bottom: 180px
    }
.textbg1{
    color:#40ca98
    }
    .textbg2{
        color:#d53c39;
    }
  .detail-top{
        margin-top:20px;
    }
.detail-top ul.cgtable1{
        margin-bottom: 20px
    }
    .detail-top ul li{
        display:inline-block;
        width:150px;
        /*border:1px solid red;*/
        margin:5px 10px;
    }
    .detail-top ul.cgtable li{
        color:#2B8F8F;
        margin:0px 10px;
        font-weight:600;
    }
.con-list {
        display:flex;
        align-items: center;
        width: 100%;
        word-wrap:break-word;

        border-bottom: solid 1px #E6E6E6;
        padding: 15px 25px;

        cursor: pointer;
        position:relative;
    }
    .con-list:hover{
        cursor:pointer;
    }
    .con-list .date{
        position:absolute;
        right:5px;
        top:50px;
    }
    .con-list .date1{
        position:absolute;
        right:20px;
        top:20px;
    }
    .con-list .status{
        width:100px;

        text-align: center;
        position: absolute;
        right: 0px;
        top: 47px;
    }
    .con-list .list-title {
        color: #0d0d0d;
        font-size: 14px;
        margin-bottom: 10px;
    }
    .con-list:last-child{
       margin-bottom: 150px;
    }


.con-list .txt {
    color: #585858;
    font-size: 12px;
    width: 180px;
    position: absolute;
    top: 40px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
    div.con-list:last-child{
        margin-bottom:300px;
    }

    .add-right {
        width:100%;
        height: 100%;
        /*padding-top:30px;*/
        background: #fff;
        overflow: auto;
        position:relative;
    }
    .right-title p {
        width: 150px;
        font-size: 14px;
        color: #585858;
    }

    .title-btn {
        float: right;
        width: auto;
        height: 40px;
        margin-top: -10px;
    }

    .title-btn button {
        width: 80px;
        border-radius: 8px;
        font-size: 14px;
        line-height: 40px;
        border: 0;
    }

    .right-content {
       width: 100%;
    height: 100%;
    /*margin-top: 10px;*/
    /*padding: 15px 0;*/
    padding-left: 25px;

    margin-bottom: 280px;
    }

    .code-box {
        width: 40%;
        height: 40px;
        /*float: left;*/
        margin-bottom: 5px;
        position: relative;
    }
    .detail-title{
        padding:10px 40px 0 0;
    }
    .code-box:after {
        content: '';
        display: block;
        clear: both;

    }

    .code-box p {
        color: #585858;
        font-size: 12px;
        float: left;
        width: auto;
        height: 35px;
        line-height: 35px;
        text-align: left;
    }

    .code-box input {
        /*width: 80%;*/
        height: 35px;
        border: 1px solid #ececec;
        border-radius: 4px;
        padding: 0 10px;
        float: left;
    }
  .lanren {
    position: absolute;
    text-align: center;
    top: 0px;
    right: 0px;
    width: 0;
    height: 0;
    border-top: 80px solid #d53c39;
    border-left: 80px solid transparent;
}
.lanren span{
    width: 60px;
    height: 60px;
    color: #fff;
    display: block;
    position: relative;

    top: -70px;
    right: 70px;
    font-size: 16px;
    font-weight: 900;
    transform: rotate(46deg);
}
.bgd1{
    border-top: 80px solid #3b77e3;
}
.bgd2{
    border-top: 80px solid #d53c39;
}
.bgd21{
    border-top:80px solid #40ca98;
}
.bgd25{
    border-top:80px solid #FFE13D;
}
/*状态的颜色 已停用*/
.bgd22{
    border-top:80px solid #d53c39;
}
 .title{
        display:flex;justify-content: space-between;margin-top:20px
    }
    .title:hover{
       }
    .map-box {
        width: 98%;
        height: 180px;

    }

    button {
        outline: none;
    }

    input {
        outline: none;
    }

    option {
        outline: none;
    }


     .btn-group{
        display:flex;
        margin:20px 0 0 43px;
    }

    .btns {
        width: 80px;
        height: 40px;
        text-align: center;
        line-height: 40px;
        font-size: 14px;
        color: #0d0d0d;
        padding: 0 12px;
        border: 1px solid #ececec;
        border-radius: 6px;
        margin-left: 12px;
    }
     .detail-title-mark{
        display:flex;
        justify-content: flex-start;
        border-bottom:1px solid #eee;
        margin-top:1px;
        margin-left: 10px;
    }
    .detail-title{
        padding:10px 40px;

    }
    .detail-public{
        width:100%;
        margin:10px;
    }
    .bor{
       border-bottom:2px solid #086CA2;
    }

  .imgnifo{
    width:80px;
    display:block;
   margin-top:63px;

   height:30px;
   text-align: right
  }
  .bg{
    background-color: #dbe5f1
  }
    .code-box .btn-group .week{
        cursor:default;
        position:relative;
    }
    .code-box .btn-group img{
        position:absolute;
        top:15px;
        left:60px
    }
li{
    list-style: none
}
 .detail-top li{
    list-style: none;
  margin:0 20px 0 0;
}
   
.detail-top li span.blackinfo-left{
    color: #2B8F8F;
    /* margin: 0px 10px; */
    font-weight: 600;
    
}
</style>



