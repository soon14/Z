webpackJsonp([117],{1358:function(t,e,a){a(2153);var i=a(162)(a(1738),a(2392),"data-v-4384b4c4",null);t.exports=i.exports},1738:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{orderStrArr:[],orderStr:"",reNo:"",poDate:"",supplierName:"",deliveryDate:"",deliverName:"",psisshow:!1,exeUrl:"javascript:;",searchKeyword:"",fhindex:0,row:{},isLoading:!0,visible:!1,dataList:[],fhlistValue:-1,fhlist:[{label:"全部",value:0},{label:"已提交",value:1},{label:"已审核",value:2},{label:"待发货",value:8},{label:"发货中",value:3},{label:"待打包",value:6},{label:"待装载",value:7},{label:"已完成",value:88}],total:0,pageSize:0,valId:"",type:"",uid:this.$store.state.common.token,columns:[{type:"selection",width:60},{title:"单号",key:"recordNo",width:140,render:function(t,e){return t("div",[t("span",{style:{marginRight:"1px"}},e.row.recordNo),t("Tooltip",{props:{content:"有附件",placement:"right-start"}},[t("img",{domProps:{src:e.row.attachs?"http://img.zsydian.com/icon/gys_file.png":"",style:"cursor:pointer;vertical-align:middle;width:10px;height:10px"}})])])}},{title:"单据日期",width:170,key:"recordDate",align:"center"},{title:"客户",align:"center",width:160,key:"partnerName"},{title:"收货人",width:160,key:"deliverNameM",align:"center"},{title:"到货日期",width:170,key:"deliveryDate",align:"center"},{title:"总数量",align:"center",width:100,key:"totalQty"},{title:"物流公司",width:160,key:"logistics"},{title:"物流编号",width:160,key:"logisticsNo"},{title:"交货状态",align:"center",width:100,key:"deliveryStstusDesc",render:function(t,e){return t("div",{style:{color:1==e.row.deliveryStstus?"#3b77e3":3==e.row.deliveryStstus?"#d53c39":9==e.row.deliveryStstus?"#40ca98":2==e.row.deliveryStstus?"#3b77e3":(e.row.deliveryStstus,"")}},e.row.deliveryStstusDesc)}},{title:"状态",align:"center",width:80,key:"ststusDesc",render:function(t,e){return t("div",{style:{color:8==e.row.status?"#3b77e3":3==e.row.status?"#278fa3":99==e.row.status?"#d53c39":88==e.row.status?"#40ca98":1==e.row.status?"#3b77e3":5==e.row.status?"#278fa3":""}},e.row.ststusDesc)}}]}},methods:{changeSelect:function(t){var e=[];this.orderStrArr=t;for(var a=0;a<this.orderStrArr.length;a++)e.push(this.orderStrArr[a].id);this.orderStr=e.join(",")},gotoAdd:function(){this.$router.push({path:"/addsend"})},dbl:function(t,e){this.$router.push({path:"/addsend",query:{id:t.id,index:e}})},getOrderStatus:function(t){var e=this;this.axios.get("ship/query?cl="+t+"&uid="+this.uid).then(function(t){var a=t.data;"200"==t.data.status?(e.dataList=a.rows,e.dataList.forEach(function(t){t.deliverNameM=t.deliverName+"("+t.deliverMobile+")",t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),t.deliveryDate=new Date(t.deliveryDate).toLocaleDateString().replace(/\//g,"-"),"Invalid Date"==t.recordDate&&(t.recordDate="未指定"),"Invalid Date"==t.deliveryDate&&(t.deliveryDate="未指定")}),e.pageSize=a.pageSize,e.total=a.total):e.$notify({title:"",message:t.data.errorMessage,type:"error",position:"bottom-right"})})},getfhlistbg:function(t,e){this.fhlistValue=e.value,this.fhindex=t,7==this.fhindex&&this.getSuccess(this.fhlistValue),this.getOrderStatus(this.fhlistValue)},getSuccess:function(t){var e=this;this.axios.get("/ship/query?cl=0&uid="+this.uid+"&status=88").then(function(t){var a=t.data;"200"==t.data.status&&(e.dataList=a.rows,e.pageSize=a.pageSize,e.total=a.total,e.dataList.forEach(function(t){t.deliverNameM=t.deliverName+"("+t.deliverMobile+")",t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),t.deliveryDate=new Date(t.deliveryDate).toLocaleDateString().replace(/\//g,"-"),"Invalid Date"==t.recordDate&&(t.recordDate="未指定"),"Invalid Date"==t.deliveryDate&&(t.deliveryDate="未指定")}))})},search:function(){var t=this;this.axios.get("/ship/query?keyword="+this.searchKeyword+"&uid="+this.uid).then(function(e){200==e.data.status&&(t.dataList=e.data.rows,t.pageSize=e.data.pageSize,t.total=e.data.total)})},orderselected:function(t){var e=this;this.v=t,this.axios.get("/ship/query?cl="+this.v+"&uid="+this.uid).then(function(t){if("200"==t.data.status){var a=t.data;e.dataList=a.rows,e.pageSize=t.data.pageSize,e.total=t.data.total,e.dataList.forEach(function(t){t.deliverNameM=t.deliverName+"("+t.deliverMobile+")",t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),t.deliveryDate=new Date(t.deliveryDate).toLocaleDateString().replace(/\//g,"-"),"Invalid Date"==t.recordDate&&(t.recordDate="未指定"),"Invalid Date"==t.deliveryDate&&(t.deliveryDate="未指定")})}})},getcgList:function(t){var e=this;this.axios.get("/ship/query?cl="+t+"&uid="+this.uid).then(function(t){var a=t.data;"200"==t.data.status&&(e.dataList=a.rows,e.pageSize=a.pageSize,e.total=a.total,e.dataList.forEach(function(t){t.deliverNameM=t.deliverName+"("+t.deliverMobile+")",t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),t.deliveryDate=new Date(t.deliveryDate).toLocaleDateString().replace(/\//g,"-"),"Invalid Date"==t.recordDate&&(t.recordDate="未指定"),"Invalid Date"==t.deliveryDate&&(t.deliveryDate="未指定")}))})},selected:function(t){this.valId=t.id,this.row=t},delcg:function(){var t=this;this.axios.delete("ship/delete/"+this.orderStr+"?uid="+this.uid).then(function(e){"200"==e.data.status?(t.$notify({title:"",message:t.$t("public.deleteSuccess"),type:"success",position:"bottom-right"}),t.getcgList(t.v)):t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"})})},searchLocation:function(){this.psisshow=!0},shdatepoDate:function(t){this.poDate=t},shdate:function(t){this.deliveryDate=t},sureSearchLocation:function(){var t=this;this.axios.get("/ship/query/?uid="+this.uid,{recordNo:this.reNo,recordDate:this.poDate,partnerName:this.supplierName,deliveryDate:this.deliveryDate}).then(function(e){if(200==e.data.status){var a=e.data;t.dataList=a.rows,t.pageSize=a.pageSize,t.total=a.total,t.reNo="",t.poDate="",t.supplierName="",t.deliveryDate="",t.psisshow=!1}})},cancelSearchLocation:function(){this.reNo="",this.poDate="",this.supplierName="",this.deliveryDate="",this.psisshow=!1},getData:function(t){var e=this;this.axios.get("/ship/query?cl="+this.v+"&offset="+t+"&uid="+this.uid).then(function(t){e.dataList=t.data.rows,e.dataList.forEach(function(t,e){t.deliverNameM=t.deliverName+"("+t.deliverMobile+")",t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),t.deliveryDate=new Date(t.deliveryDate).toLocaleDateString().replace(/\//g,"-"),"Invalid Date"==t.recordDate&&(t.recordDate="未指定"),"Invalid Date"==t.deliveryDate&&(t.deliveryDate="未指定")})})},changePageSize:function(t){this.pageSize=t},exportOrder:function(){var t=this;this.axios.get("ship/export?uid="+this.uid+"&ids="+this.orderStr).then(function(e){null!=e.data?t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"}):(window.location.href=e.request.responseURL,t.orderStrArr=[],t.orderStr="",t.getcgList(t.fhlistValue))})},printOrder:function(){var t=this;this.axios.get("ship/print?uid="+this.uid+"&ids="+this.orderStr).then(function(e){null!=e.data?t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"}):(window.location.href=e.request.responseURL,t.orderStrArr=[],t.orderStr="",t.getcgList(t.fhlistValue))})}},mounted:function(){this.$route.query.value?(8==this.$route.query.value&&(this.fhlistValue=this.$route.query.value,this.fhindex=3,this.getOrderStatus(this.fhlistValue)),3==this.$route.query.value&&(this.fhlistValue=this.$route.query.value,this.fhindex=4,this.getOrderStatus(this.fhlistValue)),1==this.$route.query.value&&(this.fhlistValue=this.$route.query.value,this.fhindex=1,this.getcgList(this.fhlistValue)),88==this.$route.query.value&&(this.fhlistValue=this.$route.query.value,this.fhindex=7,this.getSuccess(this.fhlistValue))):this.getcgList(this.fhlistValue)}}},1881:function(t,e,a){e=t.exports=a(1190)(),e.push([t.i,".footer-mark[data-v-4384b4c4]{width:100%;height:40px;border-top:1px solid #e4e4e4;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;margin-bottom:-10px}.footer-mark span[data-v-4384b4c4]{height:40px;line-height:40px}p.edit[data-v-4384b4c4]:hover{color:blue}.units-box[data-v-4384b4c4]{width:100%;background:#f4f4f4}.btns-box[data-v-4384b4c4]{width:100%;height:50px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;background:#fff;line-height:50px}.wldw[data-v-4384b4c4]{margin-left:20px}.wldw1[data-v-4384b4c4]{margin-left:10px;display:-ms-flexbox;display:flex;height:50px;line-height:50px}.right[data-v-4384b4c4]{margin-right:10px;margin-bottom:10px}.ivu-icon-chevron-down[data-v-4384b4c4]{font-size:10px}.btns img[data-v-4384b4c4]{width:14px;height:14px;vertical-align:middle}.main-left[data-v-4384b4c4]{width:120px;margin-right:3px;margin-top:3px;-ms-flex:0 0 120px;flex:0 0 120px;font-size:14px;background:#fff}.main-left li[data-v-4384b4c4]{list-style:none;padding:10px 0;width:100%}.main-left li span[data-v-4384b4c4]{margin-left:20px}.table[data-v-4384b4c4]{width:100%;margin:0 0 15px;background:#fff;height:100%;overflow-x:scroll}.bor[data-v-4384b4c4]{background:#ebf1fc}.page-box[data-v-4384b4c4]{text-align:center;margin-top:10px;margin-bottom:120px}","",{version:3,sources:["C:/Users/cxy/Desktop/zsyd/src/views/yssales/send.vue"],names:[],mappings:"AACA,8BACE,WAAW,AACX,YAAY,AACZ,6BAA6B,AAC7B,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,6BAA8B,AAClC,mBAAoB,CACrB,AACD,mCACE,YAAY,AACZ,gBAAiB,CAClB,AACD,8BACC,UAAW,CACX,AACD,4BACE,WAAY,AAEZ,kBAAoB,CACrB,AACD,2BACE,WAAY,AACZ,YAAa,AACb,oBAAoB,AACpB,aAAa,AACb,sBAAuB,AACnB,8BAA+B,AACnC,gBAAiB,AACjB,gBAAkB,CACnB,AACD,uBACK,gBAAiB,CACrB,AACD,wBAEM,iBAAiB,AACjB,oBAAqB,AACrB,aAAc,AACd,YAAY,AACZ,gBAAiB,CACtB,AACD,wBACE,kBAAkB,AAClB,kBAAmB,CACpB,AACD,wCACE,cAAgB,CACjB,AACD,2BACE,WAAY,AACZ,YAAa,AACb,qBAAuB,CACxB,AACD,4BACE,YAAa,AACb,iBAAkB,AAClB,eAAgB,AAChB,mBAAoB,AAChB,eAAgB,AACpB,eAAgB,AAChB,eAAiB,CAClB,AACD,+BACE,gBAAiB,AACjB,eAAe,AACf,UAAW,CACZ,AACD,oCACE,gBAAiB,CAClB,AACD,wBACE,WAAY,AACZ,gBAAsB,AACtB,gBAAiB,AACjB,YAAY,AACZ,iBAAmB,CACpB,AACD,sBACE,kBAAmB,CACpB,AACD,2BACE,kBAAmB,AACnB,gBAAgB,AAChB,mBAAoB,CACrB",file:"send.vue",sourcesContent:["\n.footer-mark[data-v-4384b4c4]{\r\n  width:100%;\r\n  height:40px;\r\n  border-top:1px solid #E4E4E4;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -ms-flex-pack: distribute;\r\n      justify-content: space-around;\r\n  margin-bottom:-10px;\n}\n.footer-mark span[data-v-4384b4c4]{\r\n  height:40px;\r\n  line-height: 40px\n}\np.edit[data-v-4384b4c4]:hover{\r\n\tcolor:blue;\n}\n.units-box[data-v-4384b4c4] {\r\n\t\twidth: 100%;\r\n\t\t\r\n\t\tbackground: #F4F4F4;\n}\n.btns-box[data-v-4384b4c4] {\r\n\t\twidth: 100%;\r\n\t\theight: 50px;\r\n\t\tdisplay:-ms-flexbox;\r\n\t\tdisplay:flex;\r\n\t\t-ms-flex-pack: justify;\r\n\t\t    justify-content: space-between;\r\n\t\tbackground: #fff;\r\n\t\tline-height: 50px;\n}\n.wldw[data-v-4384b4c4]{\r\n    \tmargin-left:20px;\n}\n.wldw1[data-v-4384b4c4]{\r\n   \r\n      margin-left:10px;\r\n      display: -ms-flexbox;\r\n      display: flex;\r\n      height:50px;\r\n      line-height: 50px\n}\n.right[data-v-4384b4c4]{\r\n\t\tmargin-right:10px;\r\n\t\tmargin-bottom:10px;\n}\n.ivu-icon-chevron-down[data-v-4384b4c4] {\r\n\t\tfont-size: 10px;\n}\n.btns img[data-v-4384b4c4] {\r\n\t\twidth: 14px;\r\n\t\theight: 14px;\r\n\t\tvertical-align: middle;\n}\n.main-left[data-v-4384b4c4]{\r\n\t\twidth: 120px;\r\n\t\tmargin-right: 3px;\r\n\t\tmargin-top: 3px;\r\n\t\t-ms-flex: 0 0 120px;\r\n\t\t    flex: 0 0 120px;\r\n\t\tfont-size: 14px;\r\n\t\tbackground: #fff;\n}\n.main-left li[data-v-4384b4c4]{\r\n\t\tlist-style: none;\r\n\t\tpadding:10px 0;\r\n\t\twidth:100%;\n}\n.main-left li span[data-v-4384b4c4]{\r\n\t\tmargin-left:20px;\n}\n.table[data-v-4384b4c4] {\r\n\t\twidth: 100%;\r\n\t\tmargin:0 0px 15px 0px;\r\n\t\tbackground: #fff;\r\n\t\theight:100%;\r\n\t\toverflow-x: scroll;\n}\n.bor[data-v-4384b4c4]{\r\n\t\tbackground: #EBF1FC\n}\n.page-box[data-v-4384b4c4] {\r\n\t\ttext-align: center;\r\n\t\tmargin-top:10px;\r\n\t\tmargin-bottom:120px;\n}\r\n\t\r\n"],sourceRoot:""}])},2153:function(t,e,a){var i=a(1881);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1191)("e3dad7b6",i,!0)},2392:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"units-box"},[a("div",{staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"btns-box"},[a("div",{staticClass:"wldw1"},[a("div",{staticStyle:{"margin-right":"20px",display:"flex"}},[a("Input",{staticStyle:{"margin-top":"10px",width:"300px"},attrs:{placeholder:t.$t("public.orderornameandphone")},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}},[a("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"append"},on:{click:t.search},slot:"append"},[t._v("搜索")])])],1)]),t._v(" "),a("div",{staticStyle:{"margin-right":"10px",display:"flex"}},[a("div",[a("Button",{staticStyle:{background:"#3b77e3"},attrs:{type:"primary",shape:"circle"},on:{click:t.gotoAdd}},[a("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v("新建\n\t\t\t\t\t\t")],1),t._v(" "),a("Button",{staticStyle:{background:"#3b77e3"},attrs:{type:"primary",shape:"circle"},on:{click:t.exportOrder}},[a("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v("\n\t\t\t\t\t\t\t导出\n\t\t\t\t\t\t")],1),t._v(" "),a("Button",{staticStyle:{background:"#3b77e3"},attrs:{type:"primary",shape:"circle"},on:{click:t.printOrder}},[a("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v("打印\n\t\t\t\t\t\t")],1)],1),t._v(" "),a("div",[a("Dropdown",{staticStyle:{"margin-left":"6px"},attrs:{trigger:"click"}},[a("Button",{staticStyle:{background:"#ff7d16",color:"#fff",border:"none"},attrs:{shape:"circle",type:"ghost"}},[t._v("更多\n\t\t        \t\t\t\t"),a("span",[a("i",{staticClass:"ivu-icon ivu-icon-chevron-down"})])]),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("span",{on:{click:t.delcg}},[a("DropdownItem",[t._v("删除")])],1)])],1)],1)])]),t._v(" "),a("div",{staticStyle:{height:"3px",background:"rgb(230,233,236)"}}),t._v(" "),a("div",{staticStyle:{display:"flex",height:"100%",background:"#fff"}},[a("div",{staticClass:"main-left"},t._l(t.fhlist,function(e,i){return a("li",{staticClass:"flclass",class:{bor:i==t.fhindex},on:{click:function(a){t.getfhlistbg(i,e)}}},[a("span",[t._v(t._s(e.label))])])})),t._v(" "),a("div",{staticStyle:{width:"3px",background:"rgb(230,233,236)"}}),t._v(" "),a("div",{staticClass:"table"},[a("div",[a("Table",{attrs:{border:"","highlight-row":"",columns:t.columns,data:t.dataList},on:{"on-row-dblclick":t.dbl,"on-row-click":t.selected,"on-selection-change":t.changeSelect}}),t._v(" "),a("div",{staticClass:"page-box"},[a("Page",{attrs:{total:t.total,size:"small","show-total":"","show-sizer":"",placement:"top","page-size-opts":[10,20,30,40,50],pageSize:t.pageSize},on:{"on-change":t.getData,"on-page-size-change":t.changePageSize}})],1)],1)])])]),t._v(" "),a("Modal",{attrs:{width:"420px"},model:{value:t.psisshow,callback:function(e){t.psisshow=e},expression:"psisshow"}},[a("p",{staticStyle:{height:"30px","line-height":"30px","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("span",[t._v("精准搜索")])]),t._v(" "),a("Form",{attrs:{"label-width":100}},[a("FormItem",{attrs:{label:"销售单号："}},[a("Input",{model:{value:t.reNo,callback:function(e){t.reNo=e},expression:"reNo"}})],1),t._v(" "),a("FormItem",{attrs:{label:"客户名称："}},[a("Input",{model:{value:t.supplierName,callback:function(e){t.supplierName=e},expression:"supplierName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"收货人"}},[a("Input",{model:{value:t.deliverName,callback:function(e){t.deliverName=e},expression:"deliverName"}})],1),t._v(" "),a("FormItem",{attrs:{label:"单据日期"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",value:t.poDate,placeholder:"请选择时间"},on:{"on-change":t.shdatepoDate}})],1),t._v(" "),a("FormItem",{attrs:{label:"收货日期"}},[a("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",value:t.deliveryDate,placeholder:"请选择时间"},on:{"on-change":t.shdate}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"footer-mark"},[a("span",[a("a",{staticStyle:{color:"#999","font-size":"14px"},on:{click:t.cancelSearchLocation}},[t._v("取消")])]),t._v(" "),a("span",{staticStyle:{"font-size":"20px",width:"1px",height:"40px",background:"#e4e4e4"}}),t._v(" "),a("span",[a("a",{staticStyle:{color:"#3B77E3","font-size":"14px"},on:{click:t.sureSearchLocation}},[t._v("确认")])])])])],1)],1)},staticRenderFns:[]}}});