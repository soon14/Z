webpackJsonp([112],{1230:function(t,e,i){i(2035);var a=i(162)(i(1602),i(2310),"data-v-059cd71e",null);t.exports=a.exports},1387:function(t,e){t.exports={actionLoad:{YG:"http://img.zsydian.com/mb/YG.xls",SKU:"http://img.zsydian.com/mb/SKU.xls",supplier:"http://dev.zsydian.com/mb/ys/供应商导入模版.xls",customerK:"http://dev.zsydian.com/mb/yd/客户导入模版.xls",YS:"http://dev.zsydian.com/mb/yd/应收导入模版.xls",customer:"http://img.zsydian.com/zhb/KH.xls",attendant:"http://img.zsydian.com/zhb/HLY.xls",wordOrder:"http://img.zsydian.com/mb/ZHBGD.xls"},httpPrefix:{Url:"http://dev.zsydian.com/pss/"},Website:{dev:"http://dev.zsydian.com/yd",Offdev:"http://dev.zsydian.com",prod:"https://www.zsydian.com/yd/",prodERP:"http://erp.zsydian.com/",OffProd:"https://www.zsydian.com"}}},1602:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1387),o=i.n(a);e.default={data:function(){var t=this;return{ygUrl:"",loadingisshow:!1,isshowtable:!0,errorisshow:!1,error:"",type:1,oneStep:!0,twoStep:!1,threeStep:!1,active:1,importisshow:!1,url:"",importType:1,importStoreType:[{value:1,label:"Excel"}],actionUrl:o.a.httpPrefix.Url+"employee/import?uid="+this.$store.state.common.token,importstore:[{title:this.$t("manage.ey.headImg"),key:"headPic",width:120,align:"center",render:function(t,e){return t("div",[t("img",{attrs:{src:e.row.headPic},style:{width:"40px",height:"40px",marginTop:"4px"}})])}},{title:this.$t("manage.ey.name"),width:120,key:"name"},{title:this.$t("manage.ey.code"),width:120,key:"code"},{title:this.$t("public.gender"),width:80,key:"gender",render:function(e,i){return e("div",{style:{color:i.row.gender==t.$t("public.man")?"#72B7EA":i.row.gender==t.$t("public.woman")?"#FF934D":""}},i.row.gender)}},{title:this.$t("manage.ey.position"),width:120,key:"positionName"},{title:this.$t("manage.ey.mobile"),width:120,key:"phone"},{title:this.$t("manage.ey.email"),width:120,key:"email"},{title:this.$t("manage.ey.person"),width:120,key:"emergencyContact"},{title:this.$t("manage.ey.time"),width:120,key:"createTime"}],importstoredataList:[],keyword:"",dataList:[],total:0,pageSize:0,valId:"",uid:this.$store.state.common.token,valueT:1,orderListname:[{label:this.$t("public.normal"),value:1},{label:this.$t("public.normalT"),value:99}],columns:[{title:this.$t("manage.ey.headImg"),key:"headPic",width:120,align:"center",render:function(t,e){return t("div",[t("img",{attrs:{src:e.row.headPic},style:{width:"40px",height:"40px",marginTop:"4px"}})])}},{title:this.$t("manage.ey.name"),key:"name"},{title:this.$t("manage.ey.code"),key:"code"},{title:this.$t("public.gender"),width:80,key:"gender",render:function(e,i){return e("div",{style:{color:i.row.gender==t.$t("public.man")?"#72B7EA":i.row.gender==t.$t("public.woman")?"#FF934D":""}},i.row.gender)}},{title:this.$t("manage.ey.position"),key:"positionName"},{title:this.$t("manage.ey.mobile"),key:"phone"},{title:"登陆账号",key:"accountName"},{title:this.$t("manage.ey.person"),key:"emergencyContact"},{title:this.$t("manage.ey.time"),key:"createTime"},{title:this.$t("public.status"),width:120,align:"center",key:"statusDesc",render:function(t,e){return t("span",{style:{fontWeight:"900",color:1==e.row.status||0==e.row.status?"#40ca98":"#d53c39"}},e.row.statusDesc)}}]}},methods:{stopsku:function(t){t.stopPropagation()},storeImport:function(){this.importisshow=!0,this.active=1,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error="",this.importstoredataList=[]},cancel:function(){this.active=1,this.importisshow=!1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error="",this.importstoredataList=[]},importOne:function(){if(""==this.url)return this.errorisshow=!0,void(this.error=this.$t("manage.warehouse.upmb"));this.active=2,this.oneStep=!1,this.twoStep=!0},goOneStep:function(){this.active=1,this.oneStep=!0,this.twoStep=!1},gothree:function(){this.active=1,this.importisshow=!1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error="",this.importstoredataList=[]},onprogress:function(t,e,i){this.loadingisshow=!0},beforeAvatarUpload:function(t){var e=new Array;e=t.name.split(".");var i="xls"===e[e.length-1],a="xlsx"===e[e.length-1],o=t.size/1024/1024<10;return i||a||this.$notify({title:"",message:this.$t("finance.upTemplate"),type:"error",position:"bottom-right"}),o||this.$notify({title:"",message:this.$t("finance.upTemplateB"),type:"error",position:"bottom-right"}),i||a&&o},success:function(t,e,i){200==t.status?(this.error=this.$t("finance.upTemplateS"),this.errorisshow=!0,this.url=e.name,this.loadingisshow=!1,this.importstoredataList=t.rows,this.active=2,this.oneStep=!1,this.twoStep=!0,this.importstoredataList.forEach(function(t){t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-")}),this.getEmployeeList(1)):(this.errorisshow=!0,this.loadingisshow=!1,this.error=t.errorMessage)},searchStore:function(){var t=this;this.axios.get("employee/query?keyword="+this.keyword+"&uid="+this.uid).then(function(e){if(200==e.data.status){var i=e.data;t.dataList=e.data.rows,t.pageSize=i.pageSize,t.total=i.total,t.dataList.forEach(function(e){1==e.gender?e.gender=t.$t("public.man"):e.gender=t.$t("public.woman"),e.createTime=new Date(e.createTime).toLocaleDateString().replace(/\//g,"-")}),t.keyword=""}})},gotoAdd:function(){this.$router.push({path:"/addEy",query:{id:""}})},clickrow:function(t,e){this.valId=t.id},dbl:function(t,e){this.$router.push({path:"/addEy",query:{id:t.id,index:e,s:t.status}})},getEmployeeList:function(t){var e=this;this.axios.get("employee/query?uid="+this.uid+"&status="+t).then(function(t){if(200==t.data.status){var i=t.data;e.dataList=i.rows,e.pageSize=i.pageSize,e.total=i.total,e.dataList.forEach(function(t){1==t.gender&&(t.gender=e.$t("public.man")),0==t.gender&&(t.gender=e.$t("public.woman")),t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-")})}})},del:function(){var t=this;""==this.valId?this.$notify({title:"",message:"请选一条数据",type:"error",position:"bottom-right"}):this.axios.delete("/employee/delete/"+this.valId+"?uid="+this.uid).then(function(e){"200"==e.data.status?(t.$notify({title:"",message:t.$t("public.deleteSuccess"),type:"success",position:"bottom-right"}),t.getEmployeeList(t.valueT)):t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"})})},stop:function(){var t=this;""==this.valId?this.$notify({title:"",message:"请选一条数据",type:"error",position:"bottom-right"}):this.axios.post("/employee/disabled/"+this.valId+"?uid="+this.uid).then(function(e){"200"==e.data.status?(t.$notify({title:"",message:t.$t("public.normalT"),type:"success",position:"bottom-right"}),t.getEmployeeList(t.valueT)):t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"})})},start:function(){var t=this;""==this.valId?this.$notify({title:"",message:"请选一条数据",type:"error",position:"bottom-right"}):this.axios.post("/employee/enabled/"+this.valId+"?uid="+this.uid).then(function(e){"200"==e.data.status?(t.$notify({title:"",message:t.$t("public.normalS"),type:"success",position:"bottom-right"}),t.getEmployeeList(t.valueT)):t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"})})},getData:function(t){var e=this;this.axios.get("/employee/query?offset="+t+"&uid="+this.uid+"&status="+this.valueT).then(function(t){var i=t.data;e.dataList=i.rows,e.pageSize=i.pageSize,e.total=i.total,e.dataList.forEach(function(t){1==t.gender&&(t.gender=e.$t("public.man")),0==t.gender&&(t.gender=e.$t("public.woman")),t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-")})})},changePageSize:function(t){var e=this;this.pageSize=t,this.axios.get("/employee/query?length="+t+"&uid="+this.uid+"&status="+this.valueT).then(function(t){var i=t.data;e.dataList=t.data.rows,e.pageSize=i.pageSize,e.total=i.total,e.dataList.forEach(function(t){1==t.gender&&(t.gender=e.$t("public.man")),0==t.gender&&(t.gender=e.$t("public.woman")),t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-")})})},orderselectedTop:function(t){this.valueT=t,this.getEmployeeList(this.valueT)}},mounted:function(){this.ygUrl=o.a.actionLoad.YG,this.getEmployeeList(this.valueT)}}},1763:function(t,e,i){e=t.exports=i(1190)(),e.push([t.i,".employee-box[data-v-059cd71e]{width:100%;height:100%;background:#fff;display:-ms-flexbox;display:flex}.btns-box[data-v-059cd71e]{width:100%;height:100%;height:50px;-ms-flex-pack:justify;justify-content:space-between;line-height:50px}.btns-box[data-v-059cd71e],.left-top[data-v-059cd71e],.wldw[data-v-059cd71e]{display:-ms-flexbox;display:flex}.left-top[data-v-059cd71e]{height:50px;line-height:50px;background:#fff;border-bottom:1px solid #dddee1;-ms-flex-pack:distribute;justify-content:space-around}li[data-v-059cd71e]{list-style:none}li span[data-v-059cd71e]{margin-left:20px}.bg[data-v-059cd71e]{background:#f5f5f5}.wldw input[data-v-059cd71e]{padding:0 30px}.employee-left[data-v-059cd71e]{width:20%;margin:0 10px;height:auto;background:#f5f5f5;border-left:1px solid #dddee1;border-right:1px solid #dddee1}.employee-right[data-v-059cd71e]{width:100%}.right[data-v-059cd71e]{margin-right:10px;margin-bottom:10px}.ivu-icon-chevron-down[data-v-059cd71e]{font-size:10px}.btns img[data-v-059cd71e]{width:14px;height:14px;vertical-align:middle}.table[data-v-059cd71e]{height:100%;margin:0 10px}.page-box[data-v-059cd71e]{text-align:center;margin-top:5px;margin-bottom:120px}.qp-con[data-v-059cd71e]{width:100%;height:30px;color:#0d0d0d;font-size:14px;line-height:30px;cursor:pointer}.qp-con img[data-v-059cd71e]{width:16px;height:16px;vertical-align:middle}","",{version:3,sources:["C:/Users/cxy/Desktop/zsyd/src/views/manage/ey/ey.vue"],names:[],mappings:"AACA,+BACC,WAAY,AACZ,YAAa,AACb,gBAAiB,AACjB,oBAAoB,AACpB,YAAa,CACb,AACD,2BACC,WAAY,AACZ,YAAa,AACb,YAAa,AAGb,sBAAuB,AACnB,8BAA+B,AAEnC,gBAAkB,CAClB,AAKD,6EAXC,oBAAoB,AACpB,YAAa,CAmBb,AATD,2BACC,YAAY,AACZ,iBAAkB,AAGlB,gBAAiB,AACjB,gCAAgC,AAChC,yBAA0B,AACtB,4BAA8B,CAClC,AACD,oBACC,eAAiB,CACjB,AACD,yBACC,gBAAiB,CACjB,AACD,qBACC,kBAAmB,CACnB,AACD,6BACC,cAAe,CACf,AACD,gCACC,UAAU,AACV,cAAc,AACd,YAAY,AACZ,mBAAoB,AACpB,8BAA8B,AAC9B,8BAA+B,CAC/B,AACD,iCACC,UAAW,CACX,AACD,wBACC,kBAAkB,AAClB,kBAAmB,CACnB,AACD,wCACC,cAAgB,CAChB,AACD,2BACC,WAAY,AACZ,YAAa,AACb,qBAAuB,CACvB,AACD,wBAEC,YAAa,AACb,aAAc,CACd,AACD,2BACC,kBAAmB,AACnB,eAAe,AACf,mBAAoB,CACpB,AAED,yBACC,WAAY,AACZ,YAAa,AACb,cAAe,AACf,eAAgB,AAChB,iBAAkB,AAClB,cAAgB,CAChB,AACD,6BACC,WAAY,AACZ,YAAa,AACb,qBAAuB,CACvB",file:"ey.vue",sourcesContent:["\n.employee-box[data-v-059cd71e] {\n\twidth: 100%;\n\theight: 100%;\n\tbackground: #fff;\n\tdisplay:-ms-flexbox;\n\tdisplay:flex;\n}\n.btns-box[data-v-059cd71e] {\n\twidth: 100%;\n\theight: 100%;\n\theight: 50px;\n\tdisplay:-ms-flexbox;\n\tdisplay:flex;\n\t-ms-flex-pack: justify;\n\t    justify-content: space-between;\n\t\n\tline-height: 50px;\n}\n.wldw[data-v-059cd71e] {\n\tdisplay: -ms-flexbox;\n\tdisplay: flex;\n}\n.left-top[data-v-059cd71e]{\n\theight:50px;\n\tline-height: 50px;\n\tdisplay:-ms-flexbox;\n\tdisplay:flex;\n\tbackground: #fff;\n\tborder-bottom:1px solid #DDDEE1;\n\t-ms-flex-pack: distribute;\n\t    justify-content: space-around;\n}\nli[data-v-059cd71e]{\n\tlist-style: none;\n}\nli span[data-v-059cd71e]{\n\tmargin-left:20px;\n}\n.bg[data-v-059cd71e]{\n\tbackground: #f5f5f5\n}\n.wldw input[data-v-059cd71e]{\n\tpadding:0 30px;\n}\n.employee-left[data-v-059cd71e]{\n\twidth:20%;\n\tmargin:0 10px;\n\theight:auto;\n\tbackground: #f5f5f5;\n\tborder-left:1px solid #DDDEE1;\n\tborder-right:1px solid #DDDEE1;\n}\n.employee-right[data-v-059cd71e]{\n\twidth:100%;\n}\n.right[data-v-059cd71e]{\n\tmargin-right:10px;\n\tmargin-bottom:10px;\n}\n.ivu-icon-chevron-down[data-v-059cd71e] {\n\tfont-size: 10px;\n}\n.btns img[data-v-059cd71e] {\n\twidth: 14px;\n\theight: 14px;\n\tvertical-align: middle;\n}\n.table[data-v-059cd71e] {\n\t\n\theight: 100%;\n\tmargin:0 10px;\n}\n.page-box[data-v-059cd71e] {\n\ttext-align: center;\n\tmargin-top:5px;\n\tmargin-bottom:120px;\n}\n/***气泡提示样式设置***/\n.qp-con[data-v-059cd71e] {\n\twidth: 100%;\n\theight: 30px;\n\tcolor: #0d0d0d;\n\tfont-size: 14px;\n\tline-height: 30px;\n\tcursor: pointer;\n}\n.qp-con img[data-v-059cd71e] {\n\twidth: 16px;\n\theight: 16px;\n\tvertical-align: middle;\n}\n"],sourceRoot:""}])},2035:function(t,e,i){var a=i(1763);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(1191)("4d810408",a,!0)},2310:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"employee-box"},[i("div",{staticClass:"employee-right"},[i("div",{staticClass:"btns-box"},[i("div",{staticClass:"wldw"},[i("div",{staticStyle:{"margin-right":"10px","margin-left":"10px"}},[i("span",{staticStyle:{width:"42px","font-weight":"900"}},[t._v(t._s(t.$t("public.screen"))+"：")]),t._v(" "),i("Select",{staticStyle:{width:"100px"},attrs:{placeholder:t.$t("public.all")},on:{"on-change":t.orderselectedTop},model:{value:t.valueT,callback:function(e){t.valueT=e},expression:"valueT"}},t._l(t.orderListname,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),i("Input",{staticStyle:{"margin-top":"8px",width:"300px"},attrs:{placeholder:t.$t("public.nameandphone")},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"append"},on:{click:t.searchStore},slot:"append"},[t._v(t._s(t.$t("public.search")))])])],1),t._v(" "),i("div",[i("Button",{staticStyle:{"margin-right":"5px",border:"none",background:"#3b77e3",color:"#fff"},attrs:{type:"ghost",shape:"circle"},on:{click:t.gotoAdd}},[i("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v(t._s(t.$t("public.addnew")))],1),t._v(" "),i("Button",{staticStyle:{border:"none",background:"#3b77e3",color:"#fff"},attrs:{type:"ghost",shape:"circle"},on:{click:t.storeImport}},[i("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v("\n        \t\t\t\t"+t._s(t.$t("public.import")))],1),t._v(" "),i("Dropdown",{staticStyle:{"margin-left":"4px","margin-right":"15px"},attrs:{trigger:"click"}},[i("Button",{staticStyle:{background:"#ff7d16",color:"#fff",border:"none"},attrs:{shape:"circle",type:"ghost"}},[t._v("\n\t\t\t                  \t"+t._s(t.$t("public.more"))+"\n\t\t\t                  \t"),t._v(" "),i("span",[i("i",{staticClass:"ivu-icon ivu-icon-chevron-down"})])]),t._v(" "),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("span",{on:{click:t.start}},[i("DropdownItem",[t._v(t._s(t.$t("public.start")))])],1),t._v(" "),i("span",{on:{click:t.stop}},[i("DropdownItem",[t._v(t._s(t.$t("public.stop")))])],1),t._v(" "),i("span",{on:{click:t.del}},[i("DropdownItem",[t._v(t._s(t.$t("public.del")))])],1)])],1)],1)]),t._v(" "),i("div",{staticClass:"table"},[i("Table",{attrs:{border:"","highlight-row":"",size:"small",columns:t.columns,data:t.dataList},on:{"on-row-dblclick":t.dbl,"on-row-click":t.clickrow}}),t._v(" "),i("div",{staticClass:"page-box"},[i("Page",{attrs:{total:t.total,size:"small","show-total":"","show-sizer":"",placement:"top","page-size-opts":[10,20,30,40,50],pageSize:t.pageSize},on:{"on-change":t.getData,"on-page-size-change":t.changePageSize}})],1)],1)]),t._v(" "),i("Modal",{attrs:{width:"700","mask-closable":!1,closable:!1,title:t.$t("manage.warehouse.fileImport")},model:{value:t.importisshow,callback:function(e){t.importisshow=e},expression:"importisshow"}},[i("el-steps",{staticStyle:{"margin-left":"120px"},attrs:{active:t.active,"align-center":!0}},[i("el-step",{attrs:{title:t.$t("manage.warehouse.fileImport")}}),t._v(" "),i("el-step",{attrs:{title:t.$t("manage.warehouse.fileY")}}),t._v(" "),i("el-step",{attrs:{title:t.$t("manage.warehouse.fileS")}})],1),t._v(" "),t.oneStep?i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center"}},[i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center","font-size":"14px","font-weight":"600","border-top":"1px solid #e4e4e4"}},[i("span",{staticStyle:{display:"block",margin:"20px auto 30px 0"}},[t._v(t._s(t.$t("manage.warehouse.fileImport")))])]),t._v(" "),i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center",position:"relative"}},[i("div",{staticStyle:{"margin-left":"-108px"}},[i("span",[t._v(t._s(t.$t("manage.warehouse.filechoose"))+"：")]),t._v(" "),i("Input",{staticStyle:{width:"202px"},attrs:{disabled:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),i("div",{staticStyle:{position:"absolute",top:"0px",right:"175px",height:"35px",width:"80px",overflow:"hidden"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"show-file-list":!1,action:t.actionUrl,"on-progress":t.onprogress,"on-success":t.success,"before-upload":t.beforeAvatarUpload,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"}},[i("el-button",{staticStyle:{background:"#169BD5"},attrs:{size:"small",type:"primary"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("manage.warehouse.upload")))])],1)],1),t._v(" "),t.loadingisshow?i("div",[i("Spin",{attrs:{fix:""}},[i("mu-icon",{staticClass:"demo-spin-icon-load",attrs:{value:"rotate_right",color:"blue"}}),t._v(" "),i("div",[t._v("Loading...")])],1)],1):t._e(),t._v(" "),t.errorisshow?i("div",{staticClass:"importErrTxt"},[t._v(t._s(t.error))]):t._e()],1)]),t._v(" "),i("div",{staticStyle:{"margin-top":"40px",display:"flex","justify-content":"space-between","margin-bottom":"-40px","font-size":"14px",cursor:"pointer"}},[i("Button",{staticStyle:{"margin-left":"5px",border:"none",background:"#169BD5",color:"#fff"},attrs:{type:"ghost"}},[i("a",{staticStyle:{color:"#fff"},attrs:{href:t.ygUrl},on:{click:function(e){e.stopPropagation(),t.stopsku(e)}}},[t._v("\n                     "+t._s(t.$t("manage.warehouse.fileD")))])]),t._v(" "),i("span",{on:{click:t.cancel}},[t._v(t._s(t.$t("public.cancel")))])],1)]):t._e(),t._v(" "),t.twoStep?i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center"}},[i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center",position:"relative"}},[i("Table",{ref:"selection",attrs:{border:"",stripe:"",ellipsis:"",columns:t.importstore,data:t.importstoredataList}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"40px",display:"flex","justify-content":"space-between","margin-bottom":"-40px","font-size":"14px"}},[i("div",[t._v("共导入："),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.importstoredataList.length))]),t._v(" 条数据")]),t._v(" "),i("div",[i("span",{staticStyle:{color:"#448AFF","font-size":"14px"},on:{click:t.gothree}},[i("a",[t._v(t._s(t.$t("public.sureBtn")))])])])])]):t._e(),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},staticRenderFns:[]}}});