webpackJsonp([143],{1296:function(t,e,n){n(2160);var a=n(162)(n(1752),n(2467),"data-v-107a4536",null);t.exports=a.exports},1752:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){var t=this;return{title:"退单列表",tkId:"",tkisshow:!1,formValidate:{amount:"",remark:""},ruleValidate:{amount:[{required:!0,message:"退款金额不能为空",trigger:"blur"},{pattern:/^\d{1,14}(\.\d{1,2})?$/,message:"退款金额应为数字或小数且小数点后两位",trigger:"blur"}]},onekeyword:"",onetotal:0,onepageSize:0,oneData:[],oneKey:[{title:this.$t("orders.TKCode"),width:140,key:"returnNo"},{title:this.$t("orders.TKmoney"),width:100,align:"center",key:"amount"},{title:this.$t("orders.TKskuname"),width:180,ellipsis:!0,key:"skuName"},{title:this.$t("orders.TKstore"),key:"storeName",width:140},{title:this.$t("orders.TKtype"),width:100,align:"center",key:"type"},{title:this.$t("orders.TKtime"),width:100,align:"center",key:"createTime"},{title:this.$t("public.status"),align:"center",width:120,key:"statusDesc"},{title:this.$t("orders.TKbes"),width:100,key:"reason"},{title:this.$t("public.action"),width:280,align:"center",key:"",render:function(e,n){return e("div",[e("Button",{props:{type:"primary"},style:{marginRight:"10px",display:3==n.row.status?"none":7==n.row.status?"none":9==n.row.status?"none":"inline-block"},on:{click:function(){t.agree(n)}}},t.$t("orders.TKTY")),e("Button",{props:{type:"primary"},style:{marginRight:"10px",display:9==n.row.status?"none":1==n.row.status?"none":4==n.row.status?"none":"inline-block"},on:{click:function(){t.tkId=n,t.returnMoney(t.tkId)}}},t.$t("orders.TKsjtk")),e("Button",{props:{type:"error"},style:{display:4==n.row.status?"none":"inline-block"},on:{click:function(){t.refuse(n)}}},t.$t("orders.TKjj"))])}}],fhindex:0,row:{},visible:!1,fhlist:[{label:this.$t("orders.orderTHLIST"),value:0}],type:"",uid:this.$store.state.common.token}},methods:{getfhlistbg:function(t){this.fhindex=t,0==this.fhindex&&(this.title=this.$t("orders.orderTHLIST"),this.getone())},dblclick:function(t,e){this.$router.push({path:"/returnInfo",query:{id:t.id}})},agree:function(t){var e=this;this.$Modal.confirm({title:"同意退货",content:"<p>确定要同意退货吗?</p>",onOk:function(){e.axios.get("/oreturn/agree/"+t.row.id+"?remark=&uid="+e.uid).then(function(t){200==t.data.status?e.getone():e.$notify({title:"",message:t.data.errorMessage,type:"error",position:"bottom-right"})})},onCancel:function(){e.$Message.info("取消同意退货")}})},returnMoney:function(t){var e=this;this.$Modal.confirm({title:"同意退款",content:"<p>确定要同意退款吗?</p>",onOk:function(){e.axios.get("/oreturn/delivery/"+t.row.id+"?remark=&uid="+e.uid).then(function(t){200==t.data.status?(e.tkisshow=!0,e.getone()):e.$notify({title:"",message:t.data.errorMessage,type:"error",position:"bottom-right"})})},onCancel:function(){e.$Message.info("取消同意退款")}})},cancelTk:function(){this.tkisshow=!1},saveTk:function(t){var e=this;this.$refs[t].validate(function(t){t&&e.axios.get("/oreturn/returnMoney/"+e.tkId.row.id+"?amount="+e.formValidate.amount+"&remark="+e.formValidate.remark+"&uid="+e.uid).then(function(t){200==t.data.status?(e.$notify({title:"",message:"退款成功",type:"success",position:"bottom-right"}),e.tkisshow=!1,e.formValidate.amount="",e.formValidate.remark="",e.getone()):e.$notify({title:"",message:t.data.errorMessage,type:"error",position:"bottom-right"})})})},refuse:function(t){var e=this;this.$Modal.confirm({title:"拒绝退货",content:"<p>确定要拒绝退货吗?</p>",onOk:function(){e.axios.get("/oreturn/refuse/"+t.row.id+"?remark=&uid="+e.uid).then(function(t){200==t.data.status?e.getone():e.$notify({title:"",message:t.data.errorMessage,type:"error",position:"bottom-right"})})},onCancel:function(){e.$Message.info("取消拒绝退货")}})},searchone:function(){var t=this;this.axios.get("oreturn/query?keyword="+this.onekeyword+"&uid="+this.uid).then(function(e){200==e.data.status&&(t.oneData=e.data.rows,t.onetotal=e.data.total,t.onepageSize=e.data.pageSize,t.oneData.forEach(function(t){t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-"),1==t.type&&(t.type="仅退款"),2==t.type&&(t.type="退货退款")}))})},entersSearchone:function(){this.searchone()},getone:function(){var t=this;this.axios.get("oreturn/query?uid="+this.uid).then(function(e){200==e.data.status&&(t.oneData=e.data.rows,t.onetotal=e.data.total,t.onepageSize=e.data.pageSize,t.oneData.forEach(function(t){t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-"),1==t.type&&(t.type="仅退款"),2==t.type&&(t.type="退货退款")}))})},onegetData:function(t){var e=this;this.axios.get("oreturn/query?offset"+t+"&uid="+this.uid).then(function(t){200==t.data.status&&(e.oneData=t.data.rows,e.onetotal=t.data.total,e.onepageSize=t.data.pageSize,e.oneData.forEach(function(t){t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-"),1==t.type&&(t.type="仅退款"),2==t.type&&(t.type="退货退款")}))})},onechangePageSize:function(t){this.onepageSize=t}},mounted:function(){this.getone()}}},1866:function(t,e,n){e=t.exports=n(1191)(),e.push([t.i,"p.edit[data-v-107a4536]:hover{color:blue}.units-box[data-v-107a4536]{width:100%;background:#e6e9ec}.btns-box[data-v-107a4536]{width:100%;height:50px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;background:#fff;line-height:50px}.wldw[data-v-107a4536]{margin-left:15px;font-size:18px;font-weight:700}.right[data-v-107a4536]{margin-right:10px;margin-bottom:10px}.ivu-icon-chevron-down[data-v-107a4536]{font-size:10px}.btns img[data-v-107a4536]{width:14px;height:14px;vertical-align:middle}.main-left[data-v-107a4536]{width:120px;margin-right:3px;-ms-flex:0 0 120px;flex:0 0 120px;font-size:14px;background:#fff}.main-left li[data-v-107a4536]{list-style:none;padding:10px 0;width:100%}.main-left li span[data-v-107a4536]{margin-left:20px}.table[data-v-107a4536]{width:100%;height:100%;background:#fff}.bor[data-v-107a4536]{background:#f1f5f7;color:#3b77e3}.mtewm[data-v-107a4536]{width:100%;display:-ms-flexbox;display:flex;padding:0 200px;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;-ms-flex-direction:column;flex-direction:column}.mtewm span[data-v-107a4536]{width:260px;height:30px;line-height:30px;font-weight:600;text-align:center}.mtewm div[data-v-107a4536]{width:260px;height:60px;line-height:35px}.ygewm[data-v-107a4536]{padding:10px;width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;text-align:center;background:#fff}.ygewm-list[data-v-107a4536]{margin:10px;height:195px;width:17%;padding:10px;-ms-flex-pack:center;justify-content:center;text-align:center;border:1px solid #ccc}.page-box[data-v-107a4536]{width:100%;margin-right:56px;margin-top:15px;text-align:center;margin-bottom:120px}.bottom-btn[data-v-107a4536]{width:100%;height:80px;margin-top:10px;background:#f8f8f8;line-height:80px;margin-right:56px;text-align:right}","",{version:3,sources:["C:/Users/cxy/Desktop/zsydian/src/views/order/returnOrder/returnorder.vue"],names:[],mappings:"AACA,8BACI,UAAW,CACd,AACD,4BACQ,WAAY,AACZ,kBAA6B,CACpC,AACD,2BACQ,WAAY,AACZ,YAAa,AACb,oBAAoB,AACpB,aAAa,AACb,sBAAuB,AACnB,8BAA+B,AACnC,gBAAiB,AACjB,gBAAkB,CACzB,AACD,uBACQ,iBAAkB,AAClB,eAAe,eAAiB,CACvC,AACD,wBACQ,kBAAkB,AAClB,kBAAmB,CAC1B,AACD,wCACQ,cAAgB,CACvB,AACD,2BACQ,WAAY,AACZ,YAAa,AACb,qBAAuB,CAC9B,AACD,4BACQ,YAAa,AACpB,iBAAkB,AAClB,mBAAoB,AAChB,eAAgB,AACpB,eAAgB,AAChB,eAAiB,CACjB,AACD,+BACQ,gBAAiB,AACjB,eAAe,AACf,UAAW,CAClB,AACD,oCACQ,gBAAiB,CACxB,AACD,wBACQ,WAAY,AACZ,YAAa,AAGb,eAAiB,CACxB,AACD,sBACQ,mBAA4B,AAC5B,aAAsB,CAC7B,AACD,wBACA,WAAW,AAEX,oBAAoB,AAEpB,aAAa,AACb,gBAA2B,AAE3B,qBAAsB,AAElB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,0BAA2B,AACvB,qBAAuB,CAC1B,AACD,6BACI,YAAY,AACZ,YAAY,AACZ,iBAAkB,AAClB,gBAAgB,AAChB,iBAAkB,CACrB,AACD,4BACI,YAAY,AACZ,YAAY,AACZ,gBAAkB,CACrB,AACD,wBACK,aAAa,AACd,WAAW,AACX,YAAY,AAEZ,oBAAqB,AACrB,aAAc,AACd,mBAAoB,AAChB,eAAgB,AAEpB,kBAAmB,AAGnB,eAAgB,CACnB,AACD,6BACI,YAAY,AACZ,aAAc,AACd,UAAU,AACV,aAAa,AACb,qBAAsB,AAClB,uBAAwB,AAC5B,kBAAmB,AACnB,qBAAuB,CAC1B,AACD,2BACI,WAAW,AACX,kBAAkB,AAClB,gBAAgB,AAChB,kBAAmB,AACnB,mBAAoB,CACvB,AACD,6BACI,WAAW,AACX,YAAY,AAEZ,gBAAgB,AAChB,mBAAoB,AACpB,iBAAkB,AAClB,kBAAkB,AAClB,gBAAiB,CACpB",file:"returnorder.vue",sourcesContent:["\np.edit[data-v-107a4536]:hover{\r\n    color:blue;\n}\n.units-box[data-v-107a4536] {\r\n        width: 100%;\r\n        background: rgb(230,233,236);\n}\n.btns-box[data-v-107a4536] {\r\n        width: 100%;\r\n        height: 50px;\r\n        display:-ms-flexbox;\r\n        display:flex;\r\n        -ms-flex-pack: justify;\r\n            justify-content: space-between;\r\n        background: #fff;\r\n        line-height: 50px;\n}\n.wldw[data-v-107a4536]{\r\n        margin-left: 15px;\r\n        font-size:18px;font-weight:bold;\n}\n.right[data-v-107a4536]{\r\n        margin-right:10px;\r\n        margin-bottom:10px;\n}\n.ivu-icon-chevron-down[data-v-107a4536] {\r\n        font-size: 10px;\n}\n.btns img[data-v-107a4536] {\r\n        width: 14px;\r\n        height: 14px;\r\n        vertical-align: middle;\n}\n.main-left[data-v-107a4536]{\r\n        width: 120px;\r\n\tmargin-right: 3px;\r\n\t-ms-flex: 0 0 120px;\r\n\t    flex: 0 0 120px;\r\n\tfont-size: 14px;\r\n\tbackground: #fff;\n}\n.main-left li[data-v-107a4536]{\r\n        list-style: none;\r\n        padding:10px 0;\r\n        width:100%;\n}\n.main-left li span[data-v-107a4536]{\r\n        margin-left:20px;\n}\n.table[data-v-107a4536] {\r\n        width: 100%;\r\n        height: 100%;\r\n        \r\n        \r\n        background: #fff;\n}\n.bor[data-v-107a4536]{\r\n        background:rgb(241,245,247);\r\n        color:rgb(59,119,227);\n}\n.mtewm[data-v-107a4536]{\r\nwidth:100%;\r\n\r\ndisplay:-ms-flexbox;\r\n\r\ndisplay:flex;\r\npadding: 0px 200px 0 200px;\r\n\r\n-ms-flex-pack: center;\r\n\r\n    justify-content: center;\r\n-ms-flex-align: center;\r\n    align-items: center;\r\n-ms-flex-direction: column;\r\n    flex-direction: column;\n}\n.mtewm span[data-v-107a4536]{\r\n    width:260px;\r\n    height:30px;\r\n    line-height: 30px;\r\n    font-weight:600;\r\n    text-align: center\n}\n.mtewm div[data-v-107a4536]{\r\n    width:260px;\r\n    height:60px;\r\n    line-height: 35px;\n}\n.ygewm[data-v-107a4536]{\r\n     padding:10px;\r\n    width:100%;\r\n    height:100%;\r\n    /*border:1px solid red;*/\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -ms-flex-wrap: wrap;\r\n        flex-wrap: wrap;\r\n     /*justify-content: center;*/\r\n    text-align: center;\r\n    /*justify-content: center;*/\r\n    /*flex-direction: column*/\r\n    background: #fff\n}\n.ygewm-list[data-v-107a4536]{\r\n    margin:10px;\r\n    height: 195px;\r\n    width:17%;\r\n    padding:10px;\r\n    -ms-flex-pack: center;\r\n        justify-content: center;\r\n    text-align: center;\r\n    border: 1px solid #ccc;\n}\n.page-box[data-v-107a4536]{\r\n    width:100%;\r\n    margin-right:56px;\r\n    margin-top:15px;\r\n    text-align: center;\r\n    margin-bottom:120px;\n}\n.bottom-btn[data-v-107a4536]{\r\n    width:100%;\r\n    height:80px;\r\n    /*border:1px solid red;*/\r\n    margin-top:10px;\r\n    background: #f8f8f8;\r\n    line-height: 80px;\r\n    margin-right:56px;\r\n    text-align:right;\n}\r\n"],sourceRoot:""}])},2160:function(t,e,n){var a=n(1866);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(1192)("4580305d",a,!0)},2467:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"units-box"},[n("div",{staticStyle:{display:"flex",height:"100%"}},[n("div",{staticClass:"main-left"},[n("div",{staticStyle:{height:"50px","border-bottom":"1px solid rgb(228, 228, 228)","font-size":"18px","font-weight":"900","line-height":"50px"}},[n("div",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(t.$t("orders.orderTH")))])]),t._v(" "),t._l(t.fhlist,function(e,a){return n("li",{class:{bor:a==t.fhindex},on:{click:function(e){t.getfhlistbg(a)}}},[n("span",[t._v(t._s(e.label))])])})],2),t._v(" "),0==t.fhindex?n("div",{staticClass:"table"},[n("div",{staticStyle:{display:"flex","border-bottom":"1px solid #e4e4e4"}},[n("span",{staticStyle:{height:"50px","font-size":"18px","font-weight":"900","line-height":"50px"}},[n("div",{staticStyle:{margin:"0 10px"}},[t._v(t._s(t.$t("orders.orderTHLIST")))])]),t._v(" "),n("Input",{staticStyle:{"margin-top":"10px",width:"400px"},attrs:{placeholder:t.$t("public.orderorname")},on:{"on-enter":t.entersSearchone},model:{value:t.onekeyword,callback:function(e){t.onekeyword=e},expression:"onekeyword"}},[n("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"append"},on:{click:t.searchone},slot:"append"},[t._v(t._s(t.$t("public.search")))])])],1),t._v(" "),n("div",{staticStyle:{margin:"10px"}},[n("Table",{attrs:{border:"",columns:t.oneKey,data:t.oneData},on:{"on-row-dblclick":t.dblclick}}),t._v(" "),n("div",{staticClass:"page-box"},[0!=t.onetotal?n("Page",{attrs:{total:t.onetotal,"show-total":"",pageSize:t.onepageSize},on:{"on-change":t.onegetData,"on-page-size-change":t.onechangePageSize}}):t._e()],1)],1)]):t._e()]),t._v(" "),n("Modal",{attrs:{width:"360px"},model:{value:t.tkisshow,callback:function(e){t.tkisshow=e},expression:"tkisshow"}},[n("p",{staticStyle:{height:"30px","line-height":"30px","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("span",[t._v(t._s(t.$t("orders.TKmoney")))])]),t._v(" "),n("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":100}},[n("FormItem",{attrs:{label:t.$t("orders.TKmoney"),prop:"amount"}},[n("Input",{model:{value:t.formValidate.amount,callback:function(e){t.$set(t.formValidate,"amount",e)},expression:"formValidate.amount"}})],1),t._v(" "),n("FormItem",{attrs:{label:t.$t("public.remark"),prop:"remark"}},[n("Input",{attrs:{type:"textarea"},model:{value:t.formValidate.remark,callback:function(e){t.$set(t.formValidate,"remark",e)},expression:"formValidate.remark"}})],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("div",{staticClass:"footer-mark"},[n("span",[n("a",{staticStyle:{color:"#999","font-size":"14px"},on:{click:t.cancelTk}},[t._v(t._s(t.$t("public.cancel")))])]),t._v(" "),n("span",{staticStyle:{"font-size":"20px",width:"1px",height:"40px",background:"#e4e4e4"}}),t._v(" "),n("span",[n("a",{staticStyle:{color:"#3B77E3","font-size":"14px"},on:{click:function(e){t.saveTk("formValidate")}}},[t._v(t._s(t.$t("public.sure")))])])])])],1)],1)},staticRenderFns:[]}}});