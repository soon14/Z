webpackJsonp([106],{1337:function(t,e,i){i(2407);var a=i(162)(i(1793),i(2638),"data-v-ed25d436",null);t.exports=a.exports},1388:function(t,e){t.exports={actionLoad:{YG:"http://img.zsydian.com/mb/YG.xls",SKU:"http://img.zsydian.com/mb/SKU.xls",supplier:"http://dev.zsydian.com/mb/ys/供应商导入模版.xls",customerK:"http://dev.zsydian.com/mb/yd/客户导入模版.xls",YS:"http://dev.zsydian.com/mb/yd/应收导入模版.xls",customer:"http://img.zsydian.com/zhb/KH.xls",attendant:"http://img.zsydian.com/zhb/HLY.xls",wordOrder:"http://img.zsydian.com/mb/ZHBGD.xls"},httpPrefix:{Url:"http://dev.zsydian.com/pss/"},Website:{dev:"http://dev.zsydian.com/yd",Offdev:"http://dev.zsydian.com",prod:"https://www.zsydian.com/yd/",prodERP:"http://erp.zsydian.com/",OffProd:"https://www.zsydian.com"}}},1793:function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var n=i(1388),o=i.n(n);e.default={data:function(){var t,e=this;return t={skuLoad:"",loadingisshow:!1,isshowtable:!0,errorisshow:!1,error:"",type:1,oneStep:!0,twoStep:!1,threeStep:!1,active:1,importisshow:!1,url:"",actionUrl:o.a.httpPrefix.Url+"initinventory/sku?uid="+this.$store.state.common.token,importstore:[{title:"商品条码",key:"skuCode",width:140},{title:"商品名称",width:180,key:"skuName"},{title:"最高库存",key:"inventoryUp",width:100,align:"center"},{title:"最低库存",key:"inventory",width:100,align:"center"},{title:"零售价",key:"price",width:80,align:"center"},{title:"批发价",key:"wholePrice",width:80,align:"center"},{title:"成本价",key:"costPrice",width:80,align:"center"},{title:"分类",key:"className",width:80,align:"center"}],importstoredataList:[],row:{},isLoading:!0,visible:!1,orderListname:[{label:"全部",value:0}],dataList:[],total:0,pageSize:0,valId:""},a(t,"row",{}),a(t,"uid",this.$store.state.common.token),a(t,"columns",[{title:"货号",key:"barcode"},{title:"商品",key:"skuName"},{title:"库存",key:"qty",align:"center",render:function(t,e){return t("span",{style:{color:"#006600"}},e.row.qty)}},{title:"吊牌价",align:"center",width:120,key:"price",render:function(t,e){return t("span",{style:{color:"#ff0000"}},e.row.price)}},{title:"成本价",align:"center",width:120,key:"costPrice",render:function(t,e){return t("span",{style:{color:"#ff0000"}},e.row.costPrice)}},{title:"批发价",align:"center",width:120,key:"wholePrice",render:function(t,e){return t("span",{style:{color:"#ff0000"}},e.row.wholePrice)}},{title:"分类",key:"className",align:"center"},{title:"单位",key:"unit",align:"center"},{title:this.$t("manage.sku.issale"),key:"onlingSals",align:"center",render:function(t,i){return t("span",{},1==i.row.onlingSals?e.$t("manage.sku.issale"):e.$t("manage.sku.issale1"))}},{title:this.$t("public.status"),key:"statusDesc",render:function(t,e){return t("span",{},e.row.statusDesc)}}]),a(t,"fhindex",0),a(t,"fhlist",[{label:"期初库存",value:0},{label:"库存日志",value:1}]),a(t,"uid",this.$store.state.common.token),a(t,"dataListlog",[]),a(t,"kckeywordInv",""),a(t,"columnslog",[{title:"类型",key:"typeDesc"},{title:"单号",key:"recordNo"},{title:"货号",key:"skuCode"},{title:"商品",key:"skuName"},{title:"库存",key:"qty",render:function(t,e){return t("span",{style:{color:"#006600"}},e.row.qty)}},{title:"吊牌价",key:"price",render:function(t,e){return t("span",{style:{color:"#ff0000"}},e.row.price)}},{title:"批发价",key:"wholePrice",render:function(t,e){return t("span",{style:{color:"#ff0000"}},e.row.wholePrice)}},{title:"成本价",key:"costPrice",render:function(t,e){return t("span",{style:{color:"#ff0000"}},e.row.costPrice)}},{title:"变动数量",key:"changeQty",render:function(t,e){return t("span",{style:{color:"#006600"}},e.row.changeQty)}},{title:"属性",key:"skuSpec"}]),a(t,"totallog",0),a(t,"pageSizelog",0),t},methods:{getfhlistbg:function(t){this.fhindex=t,0==this.fhindex&&this.getcgList(),1==this.fhindex&&this.getLog()},stopsku:function(t){t.stopPropagation()},storeImport:function(){this.importisshow=!0,this.active=1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error="",this.importstoredataList=[]},cancel:function(){this.loadingisshow=!1,this.importisshow=!1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error="",this.importstoredataList=[],this.$refs.upload.abort()},importOne:function(){if(""==this.url)return this.errorisshow=!0,void(this.error=this.$t("manage.warehouse.upmb"));this.active=2,this.oneStep=!1,this.twoStep=!0},goOneStep:function(){this.active=1,this.oneStep=!0,this.twoStep=!1},gothree:function(){this.importisshow=!1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error=""},sureimport:function(){},onprogress:function(t,e,i){this.loadingisshow=!0},beforeAvatarUpload:function(t){var e=new Array;e=t.name.split(".");var i="xls"===e[e.length-1],a="xlsx"===e[e.length-1],n=t.size/1024/1024<10;return i||a||this.$notify({title:"",message:this.$t("finance.upTemplate"),type:"error",position:"bottom-right"}),n||this.$notify({title:"",message:this.$t("finance.upTemplateB"),type:"error",position:"bottom-right"}),i||a&&n},upError:function(t,e,i){this.errorisshow=!0,this.loadingisshow=!1,this.error=response.errorMessage},success:function(t,e,i){200==t.status?(this.error=this.$t("finance.upTemplateS"),this.errorisshow=!0,this.url=e.name,this.loadingisshow=!1,this.importstoredataList=t.rows,this.active=2,this.oneStep=!1,this.twoStep=!0,this.getcgList()):(this.errorisshow=!0,this.loadingisshow=!1,this.error=t.errorMessage)},getcgList:function(){var t=this;this.axios.get("/initinventory/query?uid="+this.uid).then(function(e){if("200"==e.data.status){var i=e.data;t.dataList=i.rows,t.total=e.data.total,t.pageSize=e.data.pageSize,t.dataList.forEach(function(t){t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-")})}})},clickRow:function(t){this.valId=t.id,this.row=t},dblClickRow:function(t,e){this.$router.push({path:"/addinitinventory",query:{id:t.id,index:e}})},delcg:function(){var t=this;this.axios.delete("initinventory/delete/"+this.valId+"?uid="+this.uid).then(function(e){"200"==e.data.status?(t.$notify({title:"",message:t.$t("public.deleteSuccess"),type:"success",position:"bottom-right"}),t.getcgList()):t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"})})},getData:function(t){var e=this;this.axios.get("initinventory/query?offset="+t+"&uid="+this.uid).then(function(t){e.dataList=t.data.rows,e.total=t.data.total,e.pageSize=t.data.pageSize,e.dataList.forEach(function(t,e){t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-")})})},changePageSize:function(t){var e=this;this.pageSize=t,this.axios.get("initinventory/query?length="+t+"&uid="+this.uid).then(function(t){e.dataList=t.data.rows,e.total=t.data.total,e.pageSize=t.data.pageSize,e.dataList.forEach(function(t,e){t.createTime=new Date(t.createTime).toLocaleDateString().replace(/\//g,"-")})})},getLog:function(){var t=this;this.axios.get("invlog/query?uid="+this.uid).then(function(e){200==e.data.status&&(t.dataListlog=e.data.rows,t.totallog=e.data.total,t.pageSizelog=e.data.pageSize)})},searchkcInv:function(){var t=this;this.axios.get("invlog/query?keyword="+this.kckeywordInv+"&uid="+this.uid).then(function(e){200==e.data.status&&(t.dataListlog=e.data.rows,t.totallog=e.data.total,t.pageSizelog=e.data.pageSize)})},entersSearchkcInv:function(){this.searchkcInv()},getDatalog:function(t){var e=this;this.axios.get("invlog/query?offset="+t+"&uid="+this.uid).then(function(t){if(200==t.data.status){t.data;e.dataListlog=t.data.rows,e.totallog=t.data.total,e.pageSizelog=t.data.pageSize}})},changePageSizelog:function(t){var e=this;this.axios.get("invlog/query?length="+t+"&uid="+this.uid).then(function(t){if(200==t.data.status){var i=t.data;e.dataListlog=i.rows,e.totallog=i.total,e.pageSizelog=i.pageSize}})}},created:function(){var t=this;this.$nextTick(function(e){t.getcgList()})},mounted:function(){this.skuLoad=o.a.actionLoad.SKU}}},2113:function(t,e,i){e=t.exports=i(1191)(),e.push([t.i,".units-box[data-v-ed25d436]{width:100%;background:#e6e9ec}.btns-box[data-v-ed25d436]{width:100%;height:50px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;background:#fff;line-height:50px}.wldw[data-v-ed25d436]{margin-left:15px;font-size:18px;font-weight:700}.right[data-v-ed25d436]{margin-right:10px;height:50px;line-height:50px;text-align:right}.right2[data-v-ed25d436]{margin-right:10px;height:50px;line-height:50px;margin-left:20px;font-size:18px;font-weight:900}.ivu-icon-chevron-down[data-v-ed25d436]{font-size:10px}.btns img[data-v-ed25d436]{width:14px;height:14px;vertical-align:middle}.main-left[data-v-ed25d436]{width:120px;margin-right:3px;-ms-flex:0 0 120px;flex:0 0 120px;font-size:14px;background:#fff}.main-left li[data-v-ed25d436]{list-style:none;padding:10px 0;width:100%}.main-left li span[data-v-ed25d436]{margin-left:20px}.table[data-v-ed25d436]{width:100%;height:100%;overflow:auto;background:#fff}.right-main[data-v-ed25d436]{width:100%;height:100%;background-color:#fff;overflow:hidden}.borIndex[data-v-ed25d436]{background:#f1f5f7;color:#3b77e3}.page-box[data-v-ed25d436]{margin-bottom:160px;text-align:center;margin-top:5px}","",{version:3,sources:["C:/Users/cxy/Desktop/zsydian/src/views/ysgoods/initInventorySetting/InventorySetting.vue"],names:[],mappings:"AACA,4BACE,WAAY,AACZ,kBAA6B,CAC9B,AACD,2BACE,WAAY,AACZ,YAAa,AACb,oBAAoB,AACpB,aAAa,AACb,sBAAuB,AACnB,8BAA+B,AACnC,gBAAiB,AACjB,gBAAkB,CACnB,AACD,uBACK,iBAAkB,AAClB,eAAe,eAAiB,CACpC,AACD,wBACE,kBAAkB,AAClB,YAAY,AACZ,iBAAkB,AAClB,gBAAiB,CAClB,AACD,yBACE,kBAAkB,AAClB,YAAY,AACZ,iBAAkB,AAClB,iBAAiB,AACjB,eAAgB,AAAC,eAAgB,CAClC,AACD,wCACE,cAAgB,CACjB,AACD,2BACE,WAAY,AACZ,YAAa,AACb,qBAAuB,CACxB,AACD,4BACE,YAAa,AACb,iBAAkB,AAClB,mBAAoB,AAChB,eAAgB,AACpB,eAAgB,AAChB,eAAiB,CAClB,AACD,+BACE,gBAAiB,AACjB,eAAe,AACf,UAAW,CACZ,AACD,oCACE,gBAAiB,CAClB,AACD,wBACE,WAAY,AACV,YAAa,AACb,cAAe,AACf,eAAiB,CACpB,AACD,6BACC,WAAW,AACX,YAAY,AACZ,sBAAuB,AACvB,eAAiB,CACjB,AACD,2BACC,mBAA4B,AACzB,aAAsB,CACzB,AACD,2BACC,oBAAqB,AACrB,kBAAmB,AACnB,cAAe,CACf",file:"InventorySetting.vue",sourcesContent:["\n.units-box[data-v-ed25d436] {\n\t\twidth: 100%;\n\t\tbackground: rgb(230,233,236);\n}\n.btns-box[data-v-ed25d436] {\n\t\twidth: 100%;\n\t\theight: 50px;\n\t\tdisplay:-ms-flexbox;\n\t\tdisplay:flex;\n\t\t-ms-flex-pack: justify;\n\t\t    justify-content: space-between;\n\t\tbackground: #fff;\n\t\tline-height: 50px;\n}\n.wldw[data-v-ed25d436]{\n    \tmargin-left: 15px;\n    \tfont-size:18px;font-weight:bold;\n}\n.right[data-v-ed25d436]{\n\t\tmargin-right:10px;\n\t\theight:50px;\n\t\tline-height: 50px;\n\t\ttext-align: right\n}\n.right2[data-v-ed25d436]{\n\t\tmargin-right:10px;\n\t\theight:50px;\n\t\tline-height: 50px;\n\t\tmargin-left:20px;\n\t\tfont-size: 18px; font-weight: 900\n}\n.ivu-icon-chevron-down[data-v-ed25d436] {\n\t\tfont-size: 10px;\n}\n.btns img[data-v-ed25d436] {\n\t\twidth: 14px;\n\t\theight: 14px;\n\t\tvertical-align: middle;\n}\n.main-left[data-v-ed25d436]{\n\t\twidth: 120px;\n\t\tmargin-right: 3px;\n\t\t-ms-flex: 0 0 120px;\n\t\t    flex: 0 0 120px;\n\t\tfont-size: 14px;\n\t\tbackground: #fff;\n}\n.main-left li[data-v-ed25d436]{\n\t\tlist-style: none;\n\t\tpadding:10px 0;\n\t\twidth:100%;\n}\n.main-left li span[data-v-ed25d436]{\n\t\tmargin-left:20px;\n}\n.table[data-v-ed25d436]{\n\t\twidth: 100%;\n    height: 100%;\n    overflow: auto;\n    background: #fff;\n}\n.right-main[data-v-ed25d436]{\n\twidth:100%;\n\theight:100%;\n\tbackground-color: #fff;\n\toverflow: hidden;\n}\n.borIndex[data-v-ed25d436]{\n\tbackground:rgb(241,245,247);\n    color:rgb(59,119,227);\n}\n.page-box[data-v-ed25d436]{\n\tmargin-bottom: 160px;\n\ttext-align: center;\n\tmargin-top:5px;\n}\n"],sourceRoot:""}])},2407:function(t,e,i){var a=i(2113);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(1192)("a4184286",a,!0)},2638:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"units-box"},[i("div",{staticStyle:{display:"flex",height:"100%",width:"100%"}},[i("div",{staticClass:"main-left"},[t._m(0),t._v(" "),t._l(t.fhlist,function(e,a){return i("li",{staticClass:"flclass",class:{borIndex:a==t.fhindex},on:{click:function(e){t.getfhlistbg(a)}}},[i("span",[t._v(t._s(e.label))])])})],2),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.fhindex,expression:"fhindex==0"}],staticClass:"right-main"},[i("div",{staticClass:"right",staticStyle:{"margin-right":"20px"}},[i("Button",{staticStyle:{border:"none",background:"#3b77e3",color:"#fff"},attrs:{type:"ghost",shape:"circle"},on:{click:t.storeImport}},[i("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v("\n\t\t\t\t\t"+t._s(t.$t("public.import")))],1),t._v(" "),i("Dropdown",{attrs:{trigger:"click"}},[i("Button",{staticStyle:{background:"#ff7d16",color:"#fff",border:"none"},attrs:{shape:"circle",type:"ghost"}},[t._v(t._s(t.$t("public.more"))+"\n\t\t                    "),i("span",[i("i",{staticClass:"ivu-icon ivu-icon-chevron-down"})])]),t._v(" "),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("span",{staticStyle:{"text-align":"left"},on:{click:t.delcg}},[i("DropdownItem",[t._v(t._s(t.$t("public.del")))])],1)])],1)],1),t._v(" "),i("div",{staticClass:"table"},[i("div",{staticStyle:{margin:"0 10px"}},[i("Table",{attrs:{border:"",columns:t.columns,data:t.dataList},on:{"on-row-click":t.clickRow,"on-row-dblclick":t.dblClickRow}})],1),t._v(" "),i("div",{staticClass:"page-box"},[i("Page",{attrs:{total:t.total,"show-total":"","show-sizer":"","page-size-opts":[10,20,30,40,50],size:"small",pageSize:t.pageSize},on:{"on-change":t.getData,"on-page-size-change":t.changePageSize}})],1)])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.fhindex,expression:"fhindex==1"}],staticClass:"right-main"},[i("div",{staticClass:"right2"},[i("div",{staticStyle:{display:"flex","border-bottom":"1px solid #e4e4e4"}},[t._m(1),t._v(" "),i("Input",{staticStyle:{"margin-top":"10px",width:"400px"},attrs:{placeholder:"请输入库存编号/商品条码"},on:{"on-enter":t.entersSearchkcInv},model:{value:t.kckeywordInv,callback:function(e){t.kckeywordInv=e},expression:"kckeywordInv"}},[i("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"append"},on:{click:t.searchkcInv},slot:"append"},[t._v("搜索")])])],1)]),t._v(" "),i("div",{staticClass:"table"},[i("div",{staticStyle:{margin:"0 10px"}},[i("Table",{attrs:{border:"",columns:t.columnslog,data:t.dataListlog}})],1),t._v(" "),i("div",{staticClass:"page-box"},[i("Page",{attrs:{total:t.totallog,"show-total":"","show-sizer":"",placement:"top","page-size-opts":[10,20,30,40,50],size:"small",pageSize:t.pageSizelog},on:{"on-change":t.getDatalog,"on-page-size-change":t.changePageSizelog}})],1)])])]),t._v(" "),i("Modal",{attrs:{width:"700","mask-closable":!1,closable:!1,title:t.$t("manage.warehouse.fileImport")},model:{value:t.importisshow,callback:function(e){t.importisshow=e},expression:"importisshow"}},[i("el-steps",{staticStyle:{"margin-left":"120px"},attrs:{active:t.active,"align-center":!0}},[i("el-step",{attrs:{title:t.$t("manage.warehouse.fileImport")}}),t._v(" "),i("el-step",{attrs:{title:t.$t("manage.warehouse.fileY")}}),t._v(" "),i("el-step",{attrs:{title:t.$t("manage.warehouse.fileS")}})],1),t._v(" "),t.oneStep?i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center"}},[i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center","font-size":"14px","font-weight":"600","border-top":"1px solid #e4e4e4"}},[i("span",{staticStyle:{display:"block",margin:"20px auto 30px 0"}},[t._v(t._s(t.$t("manage.warehouse.fileImport")))])]),t._v(" "),i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center",position:"relative"}},[i("div",{staticStyle:{"margin-left":"-108px"}},[i("span",[t._v(t._s(t.$t("manage.warehouse.filechoose"))+"：")]),t._v(" "),i("Input",{staticStyle:{width:"202px"},attrs:{disabled:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),i("div",{staticStyle:{position:"absolute",top:"0px",right:"175px",height:"35px",width:"80px",overflow:"hidden"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"show-file-list":!1,action:t.actionUrl,"on-progress":t.onprogress,"on-success":t.success,"on-error":t.upError,"before-upload":t.beforeAvatarUpload,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"}},[i("el-button",{staticStyle:{background:"#169BD5"},attrs:{size:"small",type:"primary"}},[t._v("\n\t\t\t\t\t\t"+t._s(t.$t("manage.warehouse.upload")))])],1)],1),t._v(" "),t.loadingisshow?i("div",[i("Spin",{attrs:{fix:""}},[i("mu-icon",{staticClass:"demo-spin-icon-load",attrs:{value:"rotate_right",color:"blue"}}),t._v(" "),i("div",[t._v("Loading...")])],1)],1):t._e(),t._v(" "),t.errorisshow?i("div",{staticClass:"importErrTxt"},[t._v(t._s(t.error))]):t._e()],1)]),t._v(" "),i("div",{staticStyle:{"margin-top":"40px",display:"flex","justify-content":"space-between","margin-bottom":"-40px","font-size":"14px",cursor:"pointer"}},[i("Button",{staticStyle:{"margin-left":"5px",border:"none",background:"#169BD5",color:"#fff"},attrs:{type:"ghost"}},[i("a",{staticStyle:{color:"#fff"},attrs:{href:t.skuLoad},on:{click:function(e){e.stopPropagation(),t.stopsku(e)}}},[t._v("\n                     "+t._s(t.$t("manage.warehouse.fileD")))])]),t._v(" "),i("span",{on:{click:t.cancel}},[t._v(t._s(t.$t("public.cancel")))])],1)]):t._e(),t._v(" "),t.twoStep?i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center"}},[i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center",position:"relative"}},[i("Table",{attrs:{border:"",height:"300",columns:t.importstore,data:t.importstoredataList}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"40px",display:"flex","justify-content":"space-between","margin-bottom":"-40px","font-size":"14px"}},[i("div",[t._v("共导入："),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.importstoredataList.length))]),t._v(" 条数据")]),t._v(" "),i("div",[i("span",{staticStyle:{color:"#448AFF","font-size":"14px"},on:{click:t.gothree}},[i("a",[t._v(t._s(t.$t("public.sureBtn")))])])])])]):t._e(),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"50px","border-bottom":"1px solid rgb(228, 228, 228)","font-size":"18px","font-weight":"900","line-height":"50px"}},[i("div",{staticStyle:{"margin-left":"10px"}},[t._v("库存设置")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticStyle:{height:"50px","font-size":"18px","font-weight":"900","line-height":"50px"}},[i("div",{staticStyle:{margin:"0 10px"}},[t._v("库存日志")])])}]}}});