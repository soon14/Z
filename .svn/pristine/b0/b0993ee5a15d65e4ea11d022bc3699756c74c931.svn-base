webpackJsonp([127],{1161:function(t,e,a){a(2094);var i=a(151)(a(1542),a(2292),"data-v-dae26b16",null);t.exports=i.exports},1542:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{isdel:!0,valId:"",pageSize:0,total:0,valueT:0,orderListname:[{label:"全部",value:0},{label:"未提交",value:1},{label:"未签收",value:15},{label:"签收中",value:77},{label:"已完成",value:88}],columns:[{title:"单号",width:140,key:"recordNo"},{title:"来源仓/店",key:"fromWarehouseName",align:"center"},{title:"目的仓/店",key:"toWarehouseName"},{title:"总数量",key:"totalQty"},{title:"实际数量",key:"signQty"},{title:"调拨人",key:"initiator"},{title:"单据日期",key:"recordDate",align:"center"},{title:"到货时间",key:"expectDeliveryDate"},{title:"状态",key:"statusDesc",width:100,render:function(t,e){return t("div",{style:{color:77==e.row.status?"#40ca98":0==e.row.status?"#278fa3":1==e.row.status?"#3b77e3":88==e.row.status?"#40ca98":15==e.row.status?"#d53c39":""}},e.row.statusDesc)}}],Alldata:[],uid:this.$store.state.common.token}},methods:{handleSelectAll:function(t){this.$refs.selection.selectAll(t)},add:function(){this.$router.push({name:"addinvestigate"})},selected:function(t){this.valId=t.id,88==t.status?this.isdel=!1:this.isdel=!0},delcg:function(){var t=this;this.axios.delete("transfer/delete/"+this.valId+"?uid="+this.uid).then(function(e){"200"==e.data.status?(t.$notify({title:"",message:t.$t("public.deleteSuccess"),type:"success",position:"bottom-right"}),t.getcgList(),t.valId=""):t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"})})},dbl:function(t,e){this.isLoading=!0,this.$router.push({path:"/addinvestigate",query:{id:t.id,index:e}})},getData:function(t){var e=this;this.axios.get("/transfer/query?offset="+t+"&uid="+this.uid+"&status="+this.valueT).then(function(t){e.Alldata=t.data.rows,e.total=t.data.total,e.pageSize=t.data.pageSize,e.Alldata.forEach(function(t,e){switch(t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),void 0===t.expectDeliveryDate?t.expectDeliveryDate="未指定":t.expectDeliveryDate=new Date(t.expectDeliveryDate).toLocaleDateString().replace(/\//g,"-"),t.status){case 88:t.statusDesc="签收完成"}})})},changePageSize:function(t){var e=this;this.pageSize=t,this.axios.get("/transfer/query?length="+t+"&uid="+this.uid+"&status="+this.valueT).then(function(t){e.Alldata=t.data.rows,e.total=t.data.total,e.pageSize=t.data.pageSize,e.Alldata.forEach(function(t,e){switch(t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),void 0===t.expectDeliveryDate?t.expectDeliveryDate="未指定":t.expectDeliveryDate=new Date(t.expectDeliveryDate).toLocaleDateString().replace(/\//g,"-"),t.status){case 88:t.statusDesc="签收完成"}})})},getDataList:function(){var t=this;this.axios({methods:"get",url:"transfer/query?uid="+this.uid}).then(function(e){200==e.data.status&&(t.Alldata=e.data.rows,t.pageSize=e.data.pageSize,t.total=e.data.total,t.Alldata.forEach(function(t,e){switch(void 0==t.expectDeliveryDate?t.expectDeliveryDate="未指定":t.expectDeliveryDate=new Date(t.expectDeliveryDate).toLocaleDateString().replace(/\//g,"-"),t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),t.status){case 88:t.statusDesc="签收完成"}}))})},orderselected:function(t){var e=this;this.axios.get("transfer/query?uid="+this.uid+"&status="+t).then(function(t){if("200"==t.data.status){var a=t.data;e.Alldata=a.rows,e.total=t.data.total,e.pageSize=t.data.pageSize,e.isLoading=!1,e.Alldata.forEach(function(t,e){switch(void 0==t.expectDeliveryDate?t.expectDeliveryDate="未指定":t.expectDeliveryDate=new Date(t.expectDeliveryDate).toLocaleDateString().replace(/\//g,"-"),t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-"),t.status){case 88:t.statusDesc="签收完成"}})}})}},mounted:function(){this.$nextTick(function(){this.getDataList()})}}},1824:function(t,e,a){e=t.exports=a(1015)(),e.push([t.i,"#investigate .investigate_head[data-v-dae26b16]{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;width:100%;height:50px;line-height:50px}#investigate .investigate_head .wldw[data-v-dae26b16]{margin-left:10px}#investigate .investigate_head .btn[data-v-dae26b16]{margin-right:10px}#investigate .table[data-v-dae26b16]{margin:0 10px}#investigate .page-box[data-v-dae26b16]{text-align:center;margin-top:5px;margin-bottom:120px}","",{version:3,sources:["C:/Users/cxy/Desktop/zsydian/src/views/ysgoods/investigate/investigate.vue"],names:[],mappings:"AACA,gDACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACnB,8BAA+B,AACnC,WAAY,AACZ,YAAa,AACb,gBAAkB,CACnB,AACD,sDACI,gBAAkB,CACrB,AACD,qDACI,iBAAmB,CACtB,AACD,qCACE,aAAe,CAChB,AACD,wCACE,kBAAmB,AACnB,eAAgB,AAChB,mBAAqB,CACtB",file:"investigate.vue",sourcesContent:["\n#investigate .investigate_head[data-v-dae26b16] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  width: 100%;\n  height: 50px;\n  line-height: 50px;\n}\n#investigate .investigate_head .wldw[data-v-dae26b16] {\n    margin-left: 10px;\n}\n#investigate .investigate_head .btn[data-v-dae26b16] {\n    margin-right: 10px;\n}\n#investigate .table[data-v-dae26b16] {\n  margin: 0 10px;\n}\n#investigate .page-box[data-v-dae26b16] {\n  text-align: center;\n  margin-top: 5px;\n  margin-bottom: 120px;\n}\n"],sourceRoot:""}])},2094:function(t,e,a){var i=a(1824);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1016)("61f73169",i,!0)},2292:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"investigate"}},[a("div",{staticClass:"investigate_head"},[a("p",{staticClass:"wldw"},[a("span",{staticStyle:{width:"42px","font-weight":"900"}},[t._v("调拨：")]),t._v(" "),a("Select",{staticStyle:{width:"100px"},attrs:{placeholder:"全部"},on:{"on-change":t.orderselected},model:{value:t.valueT,callback:function(e){t.valueT=e},expression:"valueT"}},t._l(t.orderListname,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),t._v(" "),a("div",{staticClass:"btn",staticStyle:{"margin-right":"20px"}},[a("Button",{staticStyle:{background:"#3b77e3"},attrs:{type:"primary",shape:"circle"},on:{click:t.add}},[a("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v("新建")],1),t._v(" "),t.isdel?a("Dropdown",{staticStyle:{"margin-left":"4px"},attrs:{trigger:"click"}},[a("Button",{staticStyle:{background:"#ff7d16",color:"#fff",border:"none"},attrs:{shape:"circle",type:"ghost"}},[t._v("更多\n            "),a("span",[a("i",{staticClass:"ivu-icon ivu-icon-chevron-down"})])]),t._v(" "),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("span",{on:{click:t.delcg}},[a("DropdownItem",[t._v("删除")])],1)])],1):t._e()],1)]),t._v(" "),a("div",{staticClass:"table"},[a("Table",{ref:"selection",attrs:{border:"","highlight-row":"",columns:t.columns,data:t.Alldata},on:{"on-row-dblclick":t.dbl,"on-row-click":t.selected}}),t._v(" "),a("div",{staticClass:"page-box"},[a("Page",{attrs:{total:t.total,"show-sizer":"","page-size-opts":[10,20,30,40,50],size:"small",placement:"top","show-total":"",pageSize:t.pageSize},on:{"on-change":t.getData,"on-page-size-change":t.changePageSize}})],1)],1)])},staticRenderFns:[]}}});