webpackJsonp([55],{1216:function(t,e,i){i(2278),i(2277);var a=i(162)(i(1587),i(2479),"data-v-e474a9f0",null);t.exports=a.exports},1387:function(t,e){t.exports={actionLoad:{YG:"http://img.zsydian.com/mb/YG.xls",SKU:"http://img.zsydian.com/mb/SKU.xls",supplier:"http://dev.zsydian.com/mb/ys/供应商导入模版.xls",customerK:"http://dev.zsydian.com/mb/yd/客户导入模版.xls",YS:"http://dev.zsydian.com/mb/yd/应收导入模版.xls",customer:"http://img.zsydian.com/zhb/KH.xls",attendant:"http://img.zsydian.com/zhb/HLY.xls",wordOrder:"http://img.zsydian.com/mb/ZHBGD.xls"},httpPrefix:{Url:"http://dev.zsydian.com/pss/"},Website:{dev:"http://dev.zsydian.com/yd",Offdev:"http://dev.zsydian.com",prod:"https://www.zsydian.com/yd/",prodERP:"http://erp.zsydian.com/",OffProd:"https://www.zsydian.com"}}},1587:function(t,e,i){"use strict";function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1387),s=i.n(o);e.default={data:function(){var t;return t={keyword:"",isLoading:!0,current:1,visible:!1,dataList:[],total:1,pageSize:1,valId:"",uid:this.$store.state.common.token,skuLoad:s.a.actionLoad.YS,loadingisshow:!1,errorisshow:!1,error:""},a(t,"uid",this.$store.state.common.token),a(t,"actionUrl",s.a.httpPrefix.Url+"warehouse/import?uid="+this.$store.state.common.token),a(t,"status",""),a(t,"type",1),a(t,"oneStep",!0),a(t,"twoStep",!1),a(t,"threeStep",!1),a(t,"active",1),a(t,"importisshow",!1),a(t,"url",""),a(t,"importstoredataList",[]),a(t,"importstore",[{title:this.$t("finance.orderNo"),key:"recordNo",ellipsis:!0},{title:this.$t("finance.sk.ssMoney"),ellipsis:!0,key:"amount"},{title:this.$t("finance.orderTime"),ellipsis:!0,key:"recordDate"},{title:this.$t("public.remark"),ellipsis:!0,key:"remark"}]),a(t,"columns",[{title:this.$t("finance.orderNo"),key:"recordNo",ellipsis:!0},{title:this.$t("finance.sk.ssMoney"),ellipsis:!0,key:"amount"},{title:this.$t("finance.orderTime"),ellipsis:!0,key:"recordDate"},{title:this.$t("public.remark"),ellipsis:!0,key:"remark"}]),t},methods:{gotoAdd:function(){this.$router.push({path:"/addpayment",query:{id:""}})},clickRow:function(t){this.valId=t.id},dbl:function(t,e){this.$router.push({path:"/addpayment",query:{id:t.id,index:e}})},getUnitsList:function(){var t=this;this.axios.get("/payment/query?uid="+this.uid).then(function(e){if("200"==e.data.status){var i=e.data;t.isLoading=!1,t.dataList=i.rows,t.pageSize=i.pageSize,t.total=i.total,t.dataList.forEach(function(t,e){t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-")})}})},clickSearch:function(){var t=this;this.axios.get("/payment/query?keyword="+this.keyword+"&uid="+this.uid).then(function(e){if("200"==e.data.status){var i=e.data;t.isLoading=!1,t.dataList=i.rows,t.pageSize=i.pageSize,t.total=i.total,t.dataList.forEach(function(t,e){t.recordDate=new Date(t.recordDate).toLocaleDateString().replace(/\//g,"-")})}})},enterSearch:function(){this.clickSearch()},delUnits:function(){var t=this;""==this.valId?this.$notify({title:"",message:this.$t("public.valid.chooseOneData"),type:"error",position:"bottom-right"}):this.axios.delete("/payment/delete/"+this.valId+"?uid="+this.uid).then(function(e){"200"==e.data.status?(t.$notify({title:"",message:t.$t("public.deleteSuccess"),type:"success",position:"bottom-right"}),t.getUnitsList()):t.$notify({title:"",message:e.data.errorMessage,type:"error",position:"bottom-right"})})},getData:function(t){var e=this;this.axios.get("/payment/query?offset="+t+"&uid="+this.uid).then(function(t){e.dataList=t.data.rows})},changePageSize:function(t){this.pageSize=t},stopsku:function(t){t.stopPropagation()},storeImport:function(){this.importisshow=!0,this.active=1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error="",this.importstoredataList=[]},cancel:function(){this.importisshow=!1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error="",this.importstoredataList=[]},importOne:function(){if(""==this.url)return this.errorisshow=!0,void(this.error=this.$t("manage.warehouse.upmb"));this.active=2,this.oneStep=!1,this.twoStep=!0},goOneStep:function(){this.active=1,this.oneStep=!0,this.twoStep=!1},gothree:function(){this.importisshow=!1,this.oneStep=!0,this.twoStep=!1,this.threeStep=!1,this.url="",this.errorisshow=!1,this.error=""},sureimport:function(){},onprogress:function(t,e,i){this.loadingisshow=!0},beforeAvatarUpload:function(t){var e=new Array;e=t.name.split(".");var i="xls"===e[e.length-1],a="xlsx"===e[e.length-1],o=t.size/1024/1024<10;return i||a||this.$notify({title:"",message:this.$t("finance.upTemplate"),type:"error",position:"bottom-right"}),o||this.$notify({title:"",message:this.$t("finance.upTemplateB"),type:"error",position:"bottom-right"}),i||a&&o},success:function(t,e,i){200==t.status?(this.error=this.$t("finance.upTemplateS"),this.errorisshow=!0,this.url=e.name,this.loadingisshow=!1,this.importstoredataList=t.rows,this.active=2,this.oneStep=!1,this.twoStep=!0,this.getcgList()):(this.errorisshow=!0,this.loadingisshow=!1,this.error=t.errorMessage)}},mounted:function(){this.getUnitsList()}}},2005:function(t,e,i){e=t.exports=i(1190)(),e.push([t.i,".ivu-table-border th{background:transparent!important}","",{version:3,sources:["C:/Users/cxy/Desktop/zsyd/src/views/finance/payment.vue"],names:[],mappings:"AACA,qBACC,gCAAiC,CACjC",file:"payment.vue",sourcesContent:["\n.ivu-table-border th{\n\tbackground:transparent!important;\n}\n\n"],sourceRoot:""}])},2006:function(t,e,i){e=t.exports=i(1190)(),e.push([t.i,".units-box[data-v-e474a9f0]{width:100%;height:100%;background:#fff}.btns-box[data-v-e474a9f0]{width:100%;height:50px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;line-height:50px}.wldw[data-v-e474a9f0]{font-size:14px;color:#585858;margin-left:10px}.right[data-v-e474a9f0]{margin-right:10px;margin-bottom:10px}.right-btn[data-v-e474a9f0]{background:#ff7d16;margin-right:10px;color:#fff;border:none;width:26px;height:26px;border-radius:26px;display:inline-block;position:relative;top:10px}.ivu-icon-chevron-down[data-v-e474a9f0]{font-size:10px}.btns img[data-v-e474a9f0]{width:14px;height:14px;vertical-align:middle}.table[data-v-e474a9f0]{margin:0 10px}.page-box[data-v-e474a9f0]{text-align:center;margin-top:5px;margin-bottom:120px}.qp-con[data-v-e474a9f0]{width:100%;height:30px;color:#0d0d0d;font-size:14px;line-height:30px;cursor:pointer}.qp-con img[data-v-e474a9f0]{width:16px;height:16px;vertical-align:middle}","",{version:3,sources:["C:/Users/cxy/Desktop/zsyd/src/views/finance/payment.vue"],names:[],mappings:"AACA,4BACC,WAAY,AACZ,YAAa,AACb,eAAiB,CACjB,AACD,2BACC,WAAY,AACZ,YAAa,AACb,oBAAoB,AACpB,aAAa,AACb,sBAAuB,AACnB,8BAA+B,AAEnC,gBAAkB,CAClB,AACD,uBACC,eAAgB,AAChB,cAAe,AACf,gBAAiB,CACjB,AACD,wBACC,kBAAkB,AAClB,kBAAmB,CACnB,AACD,4BACC,mBAAoB,AACjB,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,WAAY,AACZ,YAAa,AACb,mBAAoB,AACpB,qBAAsB,AACtB,kBAAmB,AACnB,QAAU,CACb,AACD,wCACC,cAAgB,CAChB,AACD,2BACC,WAAY,AACZ,YAAa,AACb,qBAAuB,CACvB,AACD,wBACC,aAAc,CACd,AACD,2BACC,kBAAmB,AACnB,eAAe,AACd,mBAAoB,CACrB,AAED,yBACC,WAAY,AACZ,YAAa,AACb,cAAe,AACf,eAAgB,AAChB,iBAAkB,AAClB,cAAgB,CAChB,AACD,6BACC,WAAY,AACZ,YAAa,AACb,qBAAuB,CACvB",file:"payment.vue",sourcesContent:["\n.units-box[data-v-e474a9f0] {\n\twidth: 100%;\n\theight: 100%;\n\tbackground: #fff;\n}\n.btns-box[data-v-e474a9f0] {\n\twidth: 100%;\n\theight: 50px;\n\tdisplay:-ms-flexbox;\n\tdisplay:flex;\n\t-ms-flex-pack: justify;\n\t    justify-content: space-between;\n\t\n\tline-height: 50px;\n}\n.wldw[data-v-e474a9f0] {\n\tfont-size: 14px;\n\tcolor: #585858;\n\tmargin-left:10px;\n}\n.right[data-v-e474a9f0]{\n\tmargin-right:10px;\n\tmargin-bottom:10px;\n}\n.right-btn[data-v-e474a9f0]{\n\tbackground: #FF7D16;\n    margin-right: 10px;\n    color: #fff;\n    border: none;\n    width: 26px;\n    height: 26px;\n    border-radius: 26px;\n    display: inline-block;\n    position: relative;\n    top: 10px;\n}\n.ivu-icon-chevron-down[data-v-e474a9f0] {\n\tfont-size: 10px;\n}\n.btns img[data-v-e474a9f0] {\n\twidth: 14px;\n\theight: 14px;\n\tvertical-align: middle;\n}\n.table[data-v-e474a9f0] {\n\tmargin:0 10px;\n}\n.page-box[data-v-e474a9f0] {\n\ttext-align: center;\n\tmargin-top:5px;\n\t margin-bottom:120px;\n}\n/***气泡提示样式设置***/\n.qp-con[data-v-e474a9f0] {\n\twidth: 100%;\n\theight: 30px;\n\tcolor: #0d0d0d;\n\tfont-size: 14px;\n\tline-height: 30px;\n\tcursor: pointer;\n}\n.qp-con img[data-v-e474a9f0] {\n\twidth: 16px;\n\theight: 16px;\n\tvertical-align: middle;\n}\n"],sourceRoot:""}])},2277:function(t,e,i){var a=i(2005);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(1191)("7b37a2f5",a,!0)},2278:function(t,e,i){var a=i(2006);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(1191)("07fbf19e",a,!0)},2479:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"units-box"},[i("div",{staticClass:"btns-box"},[i("p",{staticClass:"wldw"},[i("Input",{staticStyle:{width:"300px","margin-top":"10px"},attrs:{placeholder:"输入单据编号"},on:{"on-enter":t.enterSearch},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}},[i("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"append"},on:{click:t.clickSearch},slot:"append"},[t._v("搜索")])])],1),t._v(" "),i("div",{staticStyle:{"margin-right":"10px"}},[i("Button",{staticStyle:{"margin-right":"5px",border:"none",background:"#3b77e3",color:"#fff"},attrs:{shape:"circle",type:"ghost"},on:{click:t.gotoAdd}},[i("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v(t._s(t.$t("public.addnew")))],1),t._v(" "),i("Button",{staticStyle:{"margin-right":"5px",border:"none",background:"#3b77e3",color:"#fff"},attrs:{type:"ghost",shape:"circle"},on:{click:t.storeImport}},[i("Icon",{staticStyle:{"margin-right":"5px",color:"#fff"},attrs:{type:"plus-round"}}),t._v(t._s(t.$t("public.import")))],1)],1)]),t._v(" "),i("div",{staticClass:"table"},[i("Table",{attrs:{border:"","highlight-row":"",columns:t.columns,data:t.dataList},on:{"on-row-dblclick":t.dbl,"on-row-click":t.clickRow}}),t._v(" "),i("div",{staticClass:"page-box"},[i("Page",{attrs:{total:t.total,"show-total":"",pageSize:t.pageSize},on:{"on-change":t.getData,"on-page-size-change":t.changePageSize}})],1)],1),t._v(" "),i("Modal",{attrs:{width:"700","mask-closable":!1,closable:!1,title:t.$t("manage.warehouse.fileImport")},model:{value:t.importisshow,callback:function(e){t.importisshow=e},expression:"importisshow"}},[i("el-steps",{staticStyle:{"margin-left":"120px"},attrs:{active:t.active,"align-center":!0}},[i("el-step",{attrs:{title:t.$t("manage.warehouse.fileImport")}}),t._v(" "),i("el-step",{attrs:{title:t.$t("manage.warehouse.fileY")}}),t._v(" "),i("el-step",{attrs:{title:t.$t("manage.warehouse.fileS")}})],1),t._v(" "),t.oneStep?i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center"}},[i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center","font-size":"14px","font-weight":"600","border-top":"1px solid #e4e4e4"}},[i("span",{staticStyle:{display:"block",margin:"20px auto 30px 0"}},[t._v(t._s(t.$t("manage.warehouse.fileImport")))])]),t._v(" "),i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center",position:"relative"}},[i("div",{staticStyle:{"margin-left":"-108px"}},[i("span",[t._v(t._s(t.$t("manage.warehouse.filechoose"))+"：")]),t._v(" "),i("Input",{staticStyle:{width:"202px"},attrs:{disabled:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),i("div",{staticStyle:{position:"absolute",top:"0px",right:"175px",height:"35px",width:"80px",overflow:"hidden"}},[i("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{"show-file-list":!1,action:t.actionUrl,"on-progress":t.onprogress,"on-success":t.success,"before-upload":t.beforeAvatarUpload,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"}},[i("el-button",{staticStyle:{background:"#169BD5"},attrs:{size:"small",type:"primary"}},[t._v("\n                        "+t._s(t.$t("manage.warehouse.upload")))])],1)],1),t._v(" "),t.loadingisshow?i("div",[i("Spin",{attrs:{fix:""}},[i("mu-icon",{staticClass:"demo-spin-icon-load",attrs:{value:"rotate_right",color:"blue"}}),t._v(" "),i("div",[t._v("Loading...")])],1)],1):t._e(),t._v(" "),t.errorisshow?i("div",{staticClass:"importErrTxt"},[t._v(t._s(t.error))]):t._e()],1)]),t._v(" "),i("div",{staticStyle:{"margin-top":"40px",display:"flex","justify-content":"space-between","margin-bottom":"-40px","font-size":"14px",cursor:"pointer"}},[i("Button",{staticStyle:{"margin-left":"5px",border:"none",background:"#169BD5",color:"#fff"},attrs:{type:"ghost"}},[i("a",{staticStyle:{color:"#fff"},attrs:{href:t.skuLoad},on:{click:function(e){e.stopPropagation(),t.stopsku(e)}}},[t._v("\n                     "+t._s(t.$t("manage.warehouse.fileD")))])]),t._v(" "),i("span",{on:{click:t.cancel}},[t._v(t._s(t.$t("public.cancel")))])],1)]):t._e(),t._v(" "),t.twoStep?i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center"}},[i("div",{staticStyle:{width:"100%",margin:"20px auto","text-align":"center",position:"relative"}},[i("Table",{ref:"selection",attrs:{border:"",height:"300",columns:t.importstore,data:t.importstoredataList}})],1),t._v(" "),i("div",{staticStyle:{"margin-top":"40px",display:"flex","justify-content":"space-between","margin-bottom":"-40px","font-size":"14px"}},[i("div",[t._v("共导入："),i("span",{staticStyle:{color:"blue"}},[t._v(t._s(t.importstoredataList.length))]),t._v(" 条数据")]),t._v(" "),i("div",[i("span",{on:{click:t.cancel}},[t._v(t._s(t.$t("public.cancel")))]),t._v(" "),i("span",{staticStyle:{display:"inline-block",margin:"0 10px","font-size":"14px"},on:{click:function(t){}}},[t._v("|")]),t._v(" "),i("span",{staticStyle:{color:"#448AFF","font-size":"14px"},on:{click:t.gothree}},[i("a",[t._v(t._s(t.$t("public.sureBtn")))])])])])]):t._e(),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)},staticRenderFns:[]}}});